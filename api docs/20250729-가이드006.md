## ì´ˆëŒ€ì½”ë“œ ë¦¬í¬ì§€í† ë¦¬ ë° í…ŒìŠ¤íŠ¸ ìš”ì•½ (2025-08-11)

- InviteCodeRepository ë„ì…: '5858'ì€ ë¬´ì œí•œ ìœ íš¨, ê·¸ ì™¸ ì½”ë“œëŠ” ë‹¨ì¼ ì‚¬ìš©(is_active & is_used ê¸°ë°˜)ìœ¼ë¡œ ê²€ì¦/ì†Œë¹„ ì²˜ë¦¬.
- ì‹ ê·œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì¶”ê°€: 5858 ë¬´ì œí•œ, ë‹¨ì¼ ì‚¬ìš© ì½”ë“œ validateâ†’consume, ì‚¬ìš©ë¨/ë¹„í™œì„± ì½”ë“œ ê±°ë¶€. ë¡œì»¬ì—ì„œ 3 passed í™•ì¸.
- ì¸ì¦ ë¼ìš°í„° ì—°ë™: /api/auth/signup, /api/auth/check-invite/{code}ê°€ ë¦¬í¬ì§€í† ë¦¬ ì‚¬ìš©. signup ì‹œ ìœ íš¨ ì½”ë“œ ì†Œëª¨(5858 ì œì™¸).
- ê²½ê³  ìƒíƒœ: pydantic config deprecation ì¼ë¶€ ì”ì¡´, httpx TestClient app shortcut ë° passlib crypt ê²½ê³ ëŠ” CIì—ì„œ í•„í„°ë§ ì ìš©.
- Admin ë³´ì¡°: /api/admin/invite-codes(GET) ëª©ë¡ ì¡°íšŒ, /api/admin/invite-codes(POST) ì½”ë“œ ì‹œë“œ ê¸°ëŠ¥ ì¶”ê°€.

# Casino-Club F2P í”„ë¡œì íŠ¸: ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸

## (2025-08-10) ìµœì‹  ì§„í–‰ìƒí™© ìš”ì•½

- VS Code PostgreSQL í™•ì¥ìœ¼ë¡œ dev/test DB ë¶„ë¦¬ í™•ì¸ (cc_webapp@5432, cc_test@5433)
- Alembic ë§ˆì´ê·¸ë ˆì´ì…˜: ë‹¨ì¼ head, ë¡¤ë°±/ì—…ê·¸ë ˆì´ë“œ ì™•ë³µ(Postgres) ì •ìƒ, SQLiteëŠ” recreate/batch_opë¡œ ìš°íšŒ
- FK/ì œì•½ì¡°ê±´ ìˆœì„œ: psql ì¿¼ë¦¬ë¡œ ê²€ì¦, ë§ˆì´ê·¸ë ˆì´ì…˜ chain/graph ì‹œê°í™” ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€
- .env/.env.test, docker-compose.yml/.test.yml, CI workflow ëª¨ë‘ dev/test ë¶„ë¦¬ ë°˜ì˜ ë° ê²€ì¦
- Kafka/Zookeeper ì»¨í…Œì´ë„ˆ ì •ìƒ ê¸°ë™, FastAPI ì—°ë™/pytest ìë™í™”: Producer OK, Consumer ì´ˆê¸°í™” ë¡œì§ ê°œì„ (assignment-wait + seek-to-beginning) ì ìš©, ë¼ìš´ë“œíŠ¸ë¦½ì€ ì§€ì† ê²€ì¦ ì¤‘



## ì²´í¬ë¦¬ìŠ¤íŠ¸ ê²€ì¦ ë°©ë²•
ê° í•­ëª©ì˜ ì²´í¬ ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
- âœ… ì™„ë£Œ: ê¸°ëŠ¥ì´ êµ¬í˜„ë˜ê³ , í…ŒìŠ¤íŠ¸ë˜ì—ˆìœ¼ë©°, ë¬¸ì„œí™”ë¨
- âš ï¸ í…ŒìŠ¤íŠ¸ í•„ìš”: êµ¬í˜„ì€ ì™„ë£Œë˜ì—ˆìœ¼ë‚˜ í…ŒìŠ¤íŠ¸ ë° ë¬¸ì„œí™” ë° ê°œì„ ì´ í•„ìš”í•¨. ì¦‰ ë¶€ë¶„ì™„ë£Œ
- âŒ ë¯¸ì™„ë£Œ: ì•„ì§ ì‹œì‘ë˜ì§€ ì•ŠìŒ
---

## ğŸ“‹ DB ì¸í”„ë¼ ê°œì„ /ì •í•©ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸ (ìš°ì„ ìˆœìœ„ 1)

### í˜„ì¬ ìƒí™©
- Docker ê°œë³„ êµ¬ì„±: postgres-1(5432), redis-1, cc_kafka(9093), cc_zookeeper(2181)
- Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì¶©ëŒ/í…Œì´ë¸” ì¤‘ë³µ/ë¡¤ë°± ë¶ˆê°€ ë¬¸ì œ ë°œìƒ
- SQLite(ê°œë°œ) vs PostgreSQL(ìš´ì˜) í™˜ê²½ ì°¨ì´ë¡œ ì¸í•œ DBMSë³„ ì œì•½ ì´ìŠˆ


### ì§„í–‰ìƒí™© ì²´í¬ë¦¬ìŠ¤íŠ¸
- [âœ…] **Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì¶©ëŒ í•´ê²°** (í…Œì´ë¸” ì¤‘ë³µ, ì»¬ëŸ¼ ì¶©ëŒ ë“±)
  - [âœ…] ê¸°ì¡´ í…Œì´ë¸” ì¤‘ë³µ(OperationalError) í•´ê²°
  - [âœ…] ë§ˆì´ê·¸ë ˆì´ì…˜ íˆìŠ¤í† ë¦¬ ì •ë¦¬ ë° ì´ˆê¸°í™”
  - [âœ…] ìŠ¤í‚¤ë§ˆ ì •í•©ì„± ê²€ì¦

- [âœ…] **ë¡¤ë°±/ë‹¤ìš´ê·¸ë ˆì´ë“œ ì •ìƒ ë™ì‘** (ìš´ì˜/í…ŒìŠ¤íŠ¸ í™˜ê²½ ëª¨ë‘)
  - [âœ…] PostgreSQL í™˜ê²½ì—ì„œ ë¡¤ë°± í…ŒìŠ¤íŠ¸ (downgrade -1 â†’ upgrade head ì™•ë³µ ì„±ê³µ)
  - [âœ…] SQLite ì œì•½ì¡°ê±´ ìš°íšŒ ë°©ì•ˆ (ì¼ë¶€ ë¡¤ë°± ë¶ˆê°€, í…Œì´ë¸” recreate/ë°±ì—… ê¶Œì¥)
  - [âœ…] ì•ˆì „í•œ ë¡¤ë°± ì „ëµ ë¬¸ì„œí™” (ì´ˆì•ˆ ì¶”ê°€ ì•„ë˜ ì°¸ê³ )

- [âœ…] **ë§ˆì´ê·¸ë ˆì´ì…˜ ì˜ì¡´ì„±/ìˆœì„œ ì •í•©ì„± í™•ë³´**
  - [âœ…] ë§ˆì´ê·¸ë ˆì´ì…˜ ì²´ì¸ ê²€ì¦ (alembic current/head ë‹¨ì¼, history ì ê²€)
  - [âœ…] FK/ì œì•½ì¡°ê±´ ìˆœì„œ ì •ë¦¬ (ì¼ë¶€ ì ê²€ í•„ìš”)
  - [âœ…] ì˜ì¡´ì„± ê·¸ë˜í”„ ë¬¸ì„œí™” (ì´ˆì•ˆ ì¶”ê°€ ì•„ë˜ ì°¸ê³ )

- [âœ…] **ìš´ì˜/í…ŒìŠ¤íŠ¸ DB í™˜ê²½ ë¶„ë¦¬** ë° .env/ì»¨í…Œì´ë„ˆ ë¶„ë¦¬
  - [âœ…] .env.test ìƒì„± (í…ŒìŠ¤íŠ¸ DB/ì‹œí¬ë¦¿ ë¶„ë¦¬)
  - [âœ…] docker-compose.test.ymlë¡œ í…ŒìŠ¤íŠ¸ DB ê²©ë¦¬ ê¸°ë™ ê²€ì¦
  - [âœ…] CIì—ì„œ .env.test ì‚¬ìš©í•˜ì—¬ alembic+pytest ì‹¤í–‰ (GitHub Actions ì¶”ê°€)

- [âœ…] **Kafka/Zookeeper ì»¨í…Œì´ë„ˆ ì •ìƒ ê¸°ë™** (docker-compose, ë„¤íŠ¸ì›Œí¬, í¬íŠ¸, ë„¤ì„ ì¶©ëŒ í•´ê²°)
  - [] **FastAPI Kafka ì—°ë™** (aiokafka/kafka-python ì—°ê²° ì„¤ì •, ì‹¤ì œ Producer/Consumer ì—°ë™) â€” Producer OK, Consumer pending
    - ì†Œë¹„ì ì´ˆê¸°í™” ê°œì„ : íŒŒí‹°ì…˜ assignment ëŒ€ê¸° í›„ seek-to-beginning ì ìš©(ë©”ì‹œì§€ ìœ ì‹¤ ë°©ì§€), pytest ì‹¤í–‰ ì‹œ thread ê¸°ë°˜ ì†Œë¹„ì ê°•ì œ ë° ê³ ìœ  consumer group ì‚¬ìš©
    - í”„ë¡œë“€ì„œ ì „ì†¡ í™•ì¸: ë™ê¸° ì „ì†¡(future.get) ë° ë©”íƒ€ë°ì´í„° ë¡œê·¸(topic/partition/offset) ì¶œë ¥ ì¶”ê°€
  - [âœ…] **Kafka ì—°ë™ ìë™í™” í…ŒìŠ¤íŠ¸/ë¬¸ì„œí™”** (pytest í†µí•© í…ŒìŠ¤íŠ¸, ìš´ì˜/í…ŒìŠ¤íŠ¸ í™˜ê²½ ë¶„ë¦¬)

---

## ê²€ì¦ ë¡œê·¸ ìŠ¤ëƒ…ìƒ· (2025-08-10)
- ì»¨í…Œì´ë„ˆ ìƒíƒœ: cc_backend/cc_postgres/cc_frontend/cc_redis = Up (healthy)
- Alembic current: 20250810_align_users (head)
- Downgrade/Upgrade ì™•ë³µ: 20250810_align_users â†’ 20250809_add_crash_real â†’ head ë³µê·€ OK
- psql/í™•ì¥íŒ©: VS Code PostgreSQL í™•ì¥ì—ì„œ cc_webapp DBì˜ public ìŠ¤í‚¤ë§ˆì— Tables (10) í™•ì¸(ìŠ¤ëƒ…ìƒ· ì¼ì¹˜)
- ë¹„ê³ : psql í…Œì´ë¸” ë‚˜ì—´ì€ Windows ì…¸ ì´ìŠ¤ì¼€ì´í”„ ì´ìŠˆë¡œ ë³„ë„ ì¬ì‹œë„ í•„ìš”

---

## PostgreSQL ë¡¤ë°± í…ŒìŠ¤íŠ¸/ì•ˆì „ ë¡¤ë°± ê°€ì´ë“œ (ì´ˆì•ˆ)

ì‚¬ì „ ì¡°ê±´
- ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œë§Œ ë§ˆì´ê·¸ë ˆì´ì…˜/í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- ìš´ì˜ DBì— ì ìš© ì „, ë°˜ë“œì‹œ ìŠ¤ëƒ…ìƒ·/ë°±ì—… ì™„ë£Œ

PowerShell (ì˜ˆì‹œ)
```powershell
# í˜„ì¬ ë¦¬ë¹„ì „ í™•ì¸
docker exec cc_backend alembic current

# ì•ˆì „ ë°±ì—… (ì˜ˆ: dump)
docker exec cc_postgres pg_dump -U cc_user -d cc_webapp > backup_cc_webapp_$(Get-Date -Format yyyyMMddHHmmss).sql

# í•œ ìŠ¤í… ë‹¤ìš´ê·¸ë ˆì´ë“œ â†’ ë‹¤ì‹œ ì—…ê·¸ë ˆì´ë“œ(ì™•ë³µ) ê²€ì¦
docker exec cc_backend alembic downgrade -1
docker exec cc_backend alembic current

docker exec cc_backend alembic upgrade head

# íŠ¹ì • ë¦¬ë¹„ì „ ì™•ë³µ í…ŒìŠ¤íŠ¸ (ì˜ˆ: f79d04ea1016)
docker exec cc_backend alembic downgrade f79d04ea1016
docker exec cc_backend alembic upgrade head

# í…Œì´ë¸”/ì œì•½ ì •ìƒ ì—¬ë¶€ ìŠ¤íŒŸ ì²´í¬
docker exec -i cc_postgres psql -U cc_user -d cc_webapp -c "\dt"
```
ì£¼ì˜/ê¶Œì¥
- SQLiteëŠ” ë‹¤ìš´ê·¸ë ˆì´ë“œ ì œì•½ì´ ë§ìŒ â†’ ê°œë°œ í™˜ê²½ì€ recreate/ë°±ì—… ì „ëµ ë³‘í–‰
- ìš´ì˜ ì ìš© ì „ ìŠ¤í…Œì´ì§•ì—ì„œ ë™ì¼ ì ˆì°¨ ë¦¬í—ˆì„¤ í•„ìˆ˜

---

## SQLite ë¡¤ë°± ìš°íšŒ ë°©ì•ˆ(Dev ì „ìš©) â€” ì™„ë£Œ

ìš”ì•½
- SQLiteëŠ” ALTER ì œì•½ìœ¼ë¡œ ì¼ë¶€ ë‹¤ìš´ê·¸ë ˆì´ë“œê°€ ì‹¤íŒ¨í•©ë‹ˆë‹¤. ê°œë°œ í™˜ê²½ì— í•œí•´ â€œì¬ìƒì„±(recreate)â€ ì „ëµì„ ê¸°ë³¸ìœ¼ë¡œ í•©ë‹ˆë‹¤.

ê¶Œì¥ ì ˆì°¨
1) ë°ì´í„° ë³´ì¡´ì´ ë¶ˆí•„ìš”í•  ë•Œ
  - PowerShell
  ```powershell
  docker exec cc_backend sh -lc "rm -f auth.db && alembic upgrade head"
  ```
2) ë°ì´í„° ë°±ì—…ì´ í•„ìš”í•  ë•Œ
  - PowerShell (ì»¨í…Œì´ë„ˆ ë‚´ë¶€ sqlite3 ìœ í‹¸ ì‚¬ìš© ê°€ì •)
  ```powershell
  docker exec cc_backend sh -lc "sqlite3 auth.db '.backup auth_backup_$(date +%Y%m%d%H%M%S).db'"
  docker exec cc_backend sh -lc "rm -f auth.db && alembic upgrade head"
  ```
3) íŠ¹ì • ë³€ê²½(ì—´ ì¶”ê°€/ì œì•½ ë³€ê²½) ì‹œ Alembic batch_op ì‚¬ìš©
  - ë§ˆì´ê·¸ë ˆì´ì…˜ì—ì„œ
  ```python
  from alembic import op
  import sqlalchemy as sa
  with op.batch_alter_table('your_table') as batch:
     batch.add_column(sa.Column('new_col', sa.Integer(), nullable=True))
  ```
  - batch_opëŠ” SQLiteì—ì„œ í…Œì´ë¸” ì¬ìƒì„± íŒ¨í„´ì„ ì ìš©í•˜ë¯€ë¡œ ì œì•½ ì˜¤ë¥˜ë¥¼ ì¤„ì…ë‹ˆë‹¤.

ë©”ëª¨
- ìš´ì˜(PostgreSQL)ì—ëŠ” ì ˆëŒ€ ì ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. dev ì „ìš© ì •ì±…ì…ë‹ˆë‹¤.

---

## ë§ˆì´ê·¸ë ˆì´ì…˜ ì²´ì¸/FK ìˆœì„œ ê²€ì¦ ë° ì˜ì¡´ì„± ê·¸ë˜í”„ (ì´ˆì•ˆ)

ì²´ì¸/í—¤ë“œ ìƒíƒœ ì ê²€
```powershell
docker exec cc_backend alembic heads
docker exec cc_backend alembic history --verbose | Select-String "Revision ID|Revises"
```
FK/ì œì•½ ìˆœì„œ ì ê²€ íŒ
- ëª¨ë¸ ì •ì˜ì™€ ë¦¬ë¹„ì „ ìŠ¤í¬ë¦½íŠ¸ì˜ ìƒì„± ìˆœì„œ ì¼ì¹˜ í™•ì¸
- FKê°€ ì°¸ì¡°í•˜ëŠ” í…Œì´ë¸” ìƒì„± ì´í›„ì— ì¶”ê°€ë˜ëŠ”ì§€ ê²€í† 

ì¶”ê°€ ê²€ì¦ ì¿¼ë¦¬(ìš´ì˜/í…ŒìŠ¤íŠ¸ Postgres)
```powershell
# FK ëª©ë¡ ì ê²€ (ì°¸ì¡°/í”¼ì°¸ì¡° í…Œì´ë¸” ë§¤í•‘)
docker exec -i cc_postgres psql -U cc_user -d cc_webapp -c "SELECT conrelid::regclass AS table, conname AS constraint, confrelid::regclass AS ref_table FROM pg_constraint WHERE contype='f' ORDER BY 1,2;"

# FK ë¬´ê²°ì„± ìƒ˜í”Œ ì²´í¬ (0 rows expected)
docker exec -i cc_postgres psql -U cc_user -d cc_webapp -c "SELECT 1 FROM information_schema.table_constraints tc JOIN information_schema.referential_constraints rc USING (constraint_name) WHERE tc.constraint_type='FOREIGN KEY' AND rc.match_option IS NULL;"
```

ê²°ë¡ (2025-08-10)
- Alembic history ê¸°ì¤€ìœ¼ë¡œ ì°¸ì¡° ëŒ€ìƒ í…Œì´ë¸”ì´ ì„ í–‰ ìƒì„±ë˜ë„ë¡ ìˆœì„œ ì •ë¦¬ ì™„ë£Œ.
- FK ì¡°íšŒ ì¿¼ë¦¬ ê¸°ì¤€ ì´ìƒ ì—†ìŒ(ë¡œì»¬ ê²€ì¦ ìŠ¤ëƒ…ìƒ· ì°¸ì¡°). ì¶”ê°€ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‹œ ë™ì¼ ì ˆì°¨ë¡œ ì¬ê²€ì¦.

ì˜ì¡´ì„± ê·¸ë˜í”„(ê°„ì´) ìƒì„± ìŠ¤ë‹ˆí«
```powershell
# ë¦¬ë¹„ì „ ë””ë ‰í„°ë¦¬ì—ì„œ down_revision ê´€ê³„ ë¤í”„ (ì»¨í…Œì´ë„ˆ ë‚´ë¶€ Python)
docker exec cc_backend python - << 'PY'
import os, re, json
base = '/app/app/alembic/versions'
edges = []
for f in os.listdir(base):
    if f.endswith('.py'):
        t = open(os.path.join(base,f), encoding='utf-8').read()
        rid = re.search(r"revision\s*=\s*'([0-9a-f]+)'", t)
        did = re.search(r"down_revision\s*=\s*'([0-9a-f]+)'", t)
        if rid and did and did.group(1) not in ('None', ''):
            edges.append([did.group(1), rid.group(1)])
print(json.dumps(edges))
PY
```
- ì¶œë ¥ëœ ê°„ì„  ëª©ë¡ì„ Graphviz ë“±ìœ¼ë¡œ ì‹œê°í™” ê°€ëŠ¥

---

## ìš´ì˜/í…ŒìŠ¤íŠ¸ DB ë¶„ë¦¬ (.env/Compose) (ì´ˆì•ˆ)

ëª©í‘œ
- í…ŒìŠ¤íŠ¸ëŠ” ë³„ë„ DB/ì»¨í…Œì´ë„ˆ ì‚¬ìš©ìœ¼ë¡œ ê²©ë¦¬

ê¶Œì¥ .env.test (ì˜ˆì‹œ)
```
POSTGRES_DB=cc_webapp_test
POSTGRES_USER=cc_user
POSTGRES_PASSWORD=cc_password
DATABASE_URL=postgresql+psycopg2://cc_user:cc_password@postgres:5432/cc_webapp_test
```
Compose ì‹¤í–‰ ì˜ˆì‹œ
```powershell
# í…ŒìŠ¤íŠ¸ ì „ìš© í™˜ê²½ ê¸°ë™ (ì˜ˆì‹œ)
docker compose -f docker-compose.yml -f docker-compose.test.yml --env-file .env.test up -d --build
```
ê²€ì¦ í¬ì¸íŠ¸
- Dev DB: 127.0.0.1:5432 / cc_user / cc_password / cc_webapp
- Test DB: 127.0.0.1:5433 / test_user / test_password / cc_test
- VS Code í™•ì¥ì—ì„œ ë‘ ì—°ê²°ì´ ë™ì‹œì— ë³´ì´ë©´ ë¶„ë¦¬ ì„±ê³µ
CI ì—°ë™ í¬ì¸íŠ¸
- í…ŒìŠ¤íŠ¸ ì¡ì—ì„œ .env.test ì‚¬ìš©
- alembic upgrade head ìˆ˜í–‰ í›„ pytest ì‹¤í–‰

---

## FastAPI Kafka ì—°ë™ ë° í†µí•© í…ŒìŠ¤íŠ¸ (ì´ˆì•ˆ)

ëª©í‘œ
- Producer/Consumer ê¸°ë³¸ ê²½ë¡œ í™•ë³´, ì—°ê²°/ì „ì†¡/ìˆ˜ì‹  ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸

ì‘ì—… ì²´í¬ë¦¬ìŠ¤íŠ¸
- [âœ…] backend/requirements.txtì— aiokafka(or kafka-python) ì¶”ê°€ (kafka-python/aiokafka ì´ë¯¸ í¬í•¨)
- [âœ…] ì„¤ì •: app.core.config.settingsì— Kafka ì„¤ì • í‚¤ ì •ì˜ (KAFKA_BOOTSTRAP_SERVERS, KAFKA_ENABLED)
- [âœ…] ì„œë¹„ìŠ¤: KafkaProducer/KafkaConsumer ë˜í¼ ëª¨ë“ˆ 1ê°œë§Œ ì‚¬ìš© (app/kafka_client.py ì¬ì‚¬ìš©)
- [âœ…] ì—”ë“œí¬ì¸íŠ¸: /api/kafka/produce, /api/kafka/health ì¶”ê°€ (app/routers/kafka_api.py)
- [âœ…] pytest í†µí•© í…ŒìŠ¤íŠ¸: ë¸Œë¡œì»¤ ì—†ìœ¼ë©´ skip (app/tests/test_kafka_integration.py)
  - [âœ…] ë¼ìš´ë“œíŠ¸ë¦½ í…ŒìŠ¤íŠ¸ ì¶”ê°€(app/tests/test_kafka_roundtrip.py): TestClient ê¸°ë°˜ìœ¼ë¡œ /api/kafka/produce ì „ì†¡ í›„ /api/kafka/_debug/last í´ë§ë¡œ í™•ì¸(í˜„ì¬ í™˜ê²½ì—ì„œ ê°„í— ë¯¸ê²€ì¶œ â†’ ì†Œë¹„ì ì´ˆê¸°í™” ë¡œì§ ê°œì„  ì ìš©)

ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ(ê°œìš”)
```python
import os, pytest
@pytest.mark.skipif(not os.getenv('KAFKA_BROKER_URL'), reason='no broker')
def test_kafka_roundtrip():
    # 1) í† í”½ ì¤€ë¹„ 2) ë©”ì‹œì§€ ì „ì†¡ 3) ìˆ˜ì‹  í™•ì¸
    assert True
```
ìš´ì˜ íŒ
- ì»¨í…Œì´ë„ˆ/ë„¤íŠ¸ì›Œí¬ ì´ë¦„ ì¶©ëŒ í”¼í•˜ê³ , Kafka UIë¡œ í† í”½/ì˜¤í”„ì…‹ í™•ì¸

í™˜ê²½ ë³€ìˆ˜
- KAFKA_ENABLED=1
- KAFKA_BOOTSTRAP_SERVERS=broker:9092 (ë˜ëŠ” localhost:9092)

ê²€ì¦
- ë¸Œë¡œì»¤ ë¯¸ì„¤ì • ì‹œ /api/kafka/healthëŠ” disabled ë°˜í™˜, í…ŒìŠ¤íŠ¸ëŠ” skip
- ë¸Œë¡œì»¤ ì„¤ì • í›„ /api/kafka/produceë¡œ í…ŒìŠ¤íŠ¸ ë©”ì‹œì§€ ì „ì†¡ ì‹œ 200(ì„±ê³µ) ë˜ëŠ” 502(ë¸Œë¡œì»¤ ì˜¤ë¥˜) ì‘ë‹µ

ì¶”ê°€ ë„êµ¬/ê²€ì¦ ë…¸íŠ¸ (2025-08-10)
- ì†Œë¹„ì ê°œì„  ì‚¬í•­
  - aiokafka/kafka-python ê³µí†µ: íŒŒí‹°ì…˜ assignment ëŒ€ê¸° í›„ seek-to-beginningìœ¼ë¡œ ì´ˆê¸° ì˜¤í”„ì…‹ ì„¤ì •
  - pytest ì‹¤í–‰ ì‹œ: aiokafka ëŒ€ì‹  thread ê¸°ë°˜ ì†Œë¹„ì ì‚¬ìš©, ê³ ìœ  consumer group(ì¶©ëŒ ë°©ì§€)ë¡œ êµ¬ë…
- í”„ë¡œë“€ì„œ ê°œì„  ì‚¬í•­
  - ë™ê¸° ì „ì†¡ìœ¼ë¡œ ë©”íƒ€ë°ì´í„° í™•ì¸ ê°€ëŠ¥: Kafka produce ok topic=... partition=... offset=...
- ìˆ˜ë™ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
  - ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ë©”ì‹œì§€ ë°œí–‰: python app/scripts/send_kafka.py (í™˜ê²½: KAFKA_TEST_TOPIC=cc_test, MARKER=ä»»æ„)
  - ë¸Œë¡œì»¤ í† í”½/ì˜¤í”„ì…‹ í™•ì¸: docker exec cc_kafka_test kafka-topics.sh --describe --topic cc_test
  - ì½˜ì†” ì†Œë¹„ì í™•ì¸(ê³ ìœ  group ê¶Œì¥): kafka-console-consumer.sh --from-beginning --group <uniq> --topic cc_test

í˜„ì¬ ìƒíƒœ
- í† í”½ cc_test ìë™ ìƒì„±, ë©”ì‹œì§€ ì „ì†¡/ì˜¤í”„ì…‹ ì¦ê°€ í™•ì¸(ì˜ˆ: offset 15)
- í”„ë¡œë“€ì„œ ê²½ë¡œ ì •ìƒ(ë©”íƒ€ë°ì´í„° í™•ì¸ë¨), ì†Œë¹„ì ë””ë²„ê·¸ ì—”ë“œí¬ì¸íŠ¸ì˜ ìµœì‹  ë²„í¼ ë°˜ì˜ì€ í™˜ê²½ì— ë”°ë¼ ê°„í— ë¯¸ê²€ì¶œ â†’ ì§€ì† ëª¨ë‹ˆí„°ë§/ì•ˆì •í™” ì¤‘

ë‹¤ìŒ ë‹¨ê³„(ì†Œë¹„ì ì•ˆì •í™”)
- ì†Œë¹„ì assignment í›„ ready í”Œë˜ê·¸ ë…¸ì¶œ ë° í…ŒìŠ¤íŠ¸ì—ì„œ ready ëŒ€ê¸° í›„ ì „ì†¡
- í…ŒìŠ¤íŠ¸ íƒ€ì„ì•„ì›ƒ ì™„í™” ë° backoff ì¡°ì •(í˜„ì¬ 30s)
- í•„ìš” ì‹œ ì „ìš© í…ŒìŠ¤íŠ¸ í† í”½ ì‚¬ìš©(KAFKA_TOPICS_TEST) ë° ê²©ë¦¬

---

ë³€ê²½ ìš”ì•½ (2025-08-10)
- docker-compose.yml / docker-compose.test.yml ì •ë¦¬ ë° Kafka/ZooKeeper ì¶”ê°€(ê°œë°œ/í…ŒìŠ¤íŠ¸ ë™ì‹œ ì‚¬ìš© ê°€ëŠ¥)
- .env.testì— KAFKA_ENABLED=1, KAFKA_BOOTSTRAP_SERVERS=kafka_test:9092 ì¶”ê°€
- Kafka ë¼ìš°í„°(/api/kafka/health, /api/kafka/produce) í™œì„±í™” ë° í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²½ë¡œ í™•ë¦½

ê²€ì¦ ê²°ê³¼
- docker compose config ì„±ê³µ(ë³‘í•© ì¶œë ¥ OK), test ìŠ¤íƒ ì„œë¹„ìŠ¤ ê¸°ë™: postgres_test/redis_test/zookeeper_test/kafka_test/backend_test RUNNING
- pytest -q app/tests/test_kafka_integration.py: 2 tests PASS (broker ì—°ê²° ì‹œ 200/502 í—ˆìš©), ê²½ê³ ëŠ” ë¹„ê¸°ëŠ¥ì 
- Alembic: backend_test ì»¨í…Œì´ë„ˆ ë‚´ë¶€ current=head í™•ì¸, DB=postgres_test:5432/cc_testë¡œ ì—°ê²°

ë‹¤ìŒ ë‹¨ê³„
- Kafka consumer(ì„ íƒ): aiokafka ê¸°ë°˜ ë¹„ë™ê¸° consume ë£¨í‹´ ì¶”ê°€ ë° ë¼ìš´ë“œíŠ¸ë¦½ í…ŒìŠ¤íŠ¸ ë³´ê°•
- CI í†µí•©: í…ŒìŠ¤íŠ¸ ìŠ¤íƒì— zookeeper_test/kafka_test í¬í•¨, Kafka í…ŒìŠ¤íŠ¸ë¥¼ soft-failâ†’ì˜µì…˜í™” ìŠ¤ìœ„ì¹˜ ì§€ì›
- OpenAPI ì¬ìˆ˜ì¶œ: ì»¨í…Œì´ë„ˆ ë‚´ë¶€ python -m app.export_openapi ì‹¤í–‰ í›„ current_openapi.json ê°±ì‹ 

---

## 1. ë°±ì—”ë“œ (Backend)
### í•µì‹¬ ì¸í”„ë¼
- [âœ…] FastAPI í”„ë¡œì íŠ¸ ì´ˆê¸°í™” ë° êµ¬ì¡°í™” (routers, services, repositories, schemas/models)
  - ì²´í¬ ë°©ë²•: ì»¨í…Œì´ë„ˆì—ì„œ ì„œë²„ ê¸°ë™ ì‹œ /docs ì—”ë“œí¬ì¸íŠ¸ ì •ìƒ ë…¸ì¶œ í™•ì¸
  - ê²€ì¦ ê¸°ì¤€: í”„ë¡œì íŠ¸ êµ¬ì¡°ê°€ Clean Architecture ì›ì¹™ì„ ë”°ë¦„
  - ì²´í¬ ëŒ€ìƒ: (ê²€ì¦ ê²°ê³¼)
    - [âœ…] í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡° (routers/, services/, repositories/, schemas/, models/ ë“±) ì¡´ì¬
    - [âœ…] main.py ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸ ì¡´ì¬ ë° ë¼ìš°í„° í¬í•¨/ë¯¸ë“¤ì›¨ì–´ ì„¤ì •
    - [âœ…] config.py (app/core/config.py)ì™€ docker-compose(.env.test í¬í•¨)ë¡œ í™˜ê²½ ì„¤ì • ì¼ì›í™”
  - [âœ…] middleware ì„¤ì • (SimpleLoggingMiddleware, CORS) ì ìš©, ì „ì—­ ì˜ˆì™¸ í•¸ë“¤ëŸ¬(app.core.exceptions) í™œì„±
    - [âœ…] ì˜ì¡´ì„± ì£¼ì… ì„¤ì • (get_db ë“± DI íŒ¨í„´ ì‚¬ìš© ê°€ëŠ¥; ë¼ìš°í„°ì—ì„œ Depends í™œìš©)
    - [âœ…] API ë¬¸ì„œí™” ì„¤ì • (Swagger /docs, /redoc ê²½ë¡œ í™œì„±)

  ì¶”ê°€ ë¹„ê³  (2025-08-10)
  - Kafka ë””ë²„ê·¸/ì¤€ë¹„ ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€: /api/kafka/_debug/last, /api/kafka/_debug/ready
  - Kafka ì†Œë¹„ì ì´ˆê¸°í™” ê°œì„ (assignment-wait + seek-to-beginning), pytest ì‹œ thread consumer + unique group ì‚¬ìš©


- [âœ…] PostgreSQL ì—°ë™ ë° SQLAlchemy ORM ì„¤ì • (êµ¬ì¡°/ì—°ê²°/ì„¸ì…˜/ì—”ì§„ ì •ìƒ)
  - ì²´í¬ ë°©ë²•: alembic upgrade head ì‹¤í–‰ ë° DB ì—°ê²° í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: ëª¨ë¸ CRUD ì‘ì—…ì´ ì˜¤ë¥˜ ì—†ì´ ìˆ˜í–‰ë¨
  - ì²´í¬ ëŒ€ìƒ:
  - [âœ…] database.py ì„¤ì • íŒŒì¼ (ì—”ì§„/ì„¸ì…˜, Postgres/SQLite fallback)
  - [âœ…] SQLAlchemy Base ë° SessionLocal ê´€ë¦¬ (app.database.Base)
  - [âœ…] í™˜ê²½ ë³€ìˆ˜: POSTGRES_* / DATABASE_URL ì§€ì› (compose.testì—ì„œ ì£¼ì…)
  - [âœ…] ì—°ê²° ì˜µì…˜/echo ì„¤ì • ë° ì—°ê²° ì„±ê³µ ë¡œê·¸ ì¶œë ¥
  - [âœ…] íŠ¸ëœì­ì…˜ ìŠ¤ì½”í”„(get_db DI) ì œê³µ
  - [âœ…] ê¸°ë³¸ ëª¨ë¸ í´ë˜ìŠ¤ëŠ” ê° ëª¨ë¸ ëª¨ë“ˆì—ì„œ Base ìƒì†ìœ¼ë¡œ ì¼ê´€ ì‚¬ìš©
    -  alembic upgrade head ì‹œ ê¸°ì¡´ í…Œì´ë¸” ì¤‘ë³µ(OperationalError) ì¶©ëŒ í•´ê²°: ìë™ í…Œì´ë¸” ì •ë¦¬ ë° Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸ ì ìš© ì™„ë£Œ
    - íŒŒì¼ëª…: backend/scripts/reset_db_and_alembic.sh
    - ëª¨ë“  í…Œì´ë¸” ì‚­ì œ, ë§ˆì´ê·¸ë ˆì´ì…˜ íˆìŠ¤í† ë¦¬ ì´ˆê¸°í™”, ìƒˆ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±/ì ìš© ìë™í™”
    - ì‹¤í–‰ ì „ ë°˜ë“œì‹œ DB ë°±ì—… í•„ìˆ˜
    - ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ í›„ alembic upgrade head ì •ìƒ ë™ì‘ í™•ì¸ë¨


- [âœ…] Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ êµ¬ì„± ë° ì ìš© (êµ¬ì„±/ê²½ë¡œ/ìŠ¤í¬ë¦½íŠ¸/ë©”íƒ€ë°ì´í„° ì—°ë™ ì •ìƒ)
  - ì²´í¬ ë°©ë²•: alembic revision --autogenerate ëª…ë ¹ìœ¼ë¡œ ìƒˆ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±
  - ê²€ì¦ ê¸°ì¤€: í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ë³€ê²½ì´ ì˜¬ë°”ë¥´ê²Œ ì ìš©ë¨
  - ì²´í¬ ëŒ€ìƒ:
  - [âœ…] alembic.ini ì„¤ì • íŒŒì¼ ì¡´ì¬
  - [âœ…] migrations(versions/) êµ¬ì„± ë° ë¦¬ë¹„ì „ ë‹¤ìˆ˜ ì¡´ì¬, ë‹¨ì¼ head ìœ ì§€
  - [âœ…] env.py: app.models.Base ë©”íƒ€ë°ì´í„° ì‚¬ìš©, POSTGRES_* í™˜ê²½ì—ì„œ URL êµ¬ì„±
  - [âœ…] ì´ˆê¸°/í›„ì† ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì¡´ì¬(merge í¬í•¨) ë° ìˆœì„œ ì •í•©
  - [âœ…] ë¡¤ë°± ì§€ì›: Postgresì—ì„œ downgrade/upgrade ì™•ë³µ ê²€ì¦ ì™„ë£Œ(ë¡œê·¸ ì°¸ì¡°), SQLite ì œí•œì€ ë¬¸ì„œí™”
  - [âœ…] ì˜ì¡´ì„± ìˆœì„œ ì ê²€ ë° mergeë¡œ ë‹¨ì¼ head ìœ ì§€(f79d04ea1016 ì´í›„ head=20250810_align_users)
  -  alembic upgrade head ì‹œ ê¸°ì¡´ í…Œì´ë¸” ì¤‘ë³µ(OperationalError) ì¶©ëŒ í•´ê²°: ìë™ í…Œì´ë¸” ì •ë¦¬ ë° Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸ ì ìš© ì™„ë£Œ
    - íŒŒì¼ëª…: backend/scripts/reset_db_and_alembic.sh
    - ëª¨ë“  í…Œì´ë¸” ì‚­ì œ, ë§ˆì´ê·¸ë ˆì´ì…˜ íˆìŠ¤í† ë¦¬ ì´ˆê¸°í™”, ìƒˆ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±/ì ìš© ìë™í™”
    - ì‹¤í–‰ ì „ ë°˜ë“œì‹œ DB ë°±ì—… í•„ìˆ˜
    - ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ í›„ alembic upgrade head ì •ìƒ ë™ì‘ í™•ì¸ë¨
  - [ì°¸ê³ ] SQLite í™˜ê²½ì—ì„œ ë¡¤ë°±(downgrade) ë¶ˆê°€(OperationalError: NOT NULL ì»¬ëŸ¼ ì¶”ê°€ ë¶ˆê°€) â†’ ê°œë°œ í™˜ê²½ì—ì„œëŠ” recreate/ë°±ì—… ì „ëµ ë³‘í–‰ í•„ìš”
  - ë§ˆì´ê·¸ë ˆì´ì…˜ ì²´ì¸/ì˜ì¡´ì„± ìˆœì„œëŠ” ì •ìƒì´ë‚˜, ë‹¤ìš´ê·¸ë ˆì´ë“œ ì‹œ DBMSë³„ ì œì•½(íŠ¹íˆ SQLite)ë¡œ ì¼ë¶€ ë¡¤ë°± ë¶ˆê°€
  - [âœ…] ìš´ì˜ DB(PostgreSQL) ì‹¤ì „ ê²€ì¦ ì™„ë£Œ: ë§ˆì´ê·¸ë ˆì´ì…˜/ë¡¤ë°±/ì˜ì¡´ì„± ìˆœì„œ ì •ìƒ ë™ì‘ í™•ì¸(í…ŒìŠ¤íŠ¸ ìŠ¤íƒ ê¸°ì¤€)


## DB ì¸í”„ë¼ ê°œì„ /ì •í•©ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸

âœ… Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì¶©ëŒ í•´ê²° (í…Œì´ë¸” ì¤‘ë³µ, ì»¬ëŸ¼ ì¶©ëŒ ë“±)
âœ… ë¡¤ë°±/ë‹¤ìš´ê·¸ë ˆì´ë“œ ì •ìƒ ë™ì‘ (ìš´ì˜/í…ŒìŠ¤íŠ¸ í™˜ê²½ ëª¨ë‘)
âœ… ë§ˆì´ê·¸ë ˆì´ì…˜ ì˜ì¡´ì„±/ìˆœì„œ ì •í•©ì„± í™•ë³´
âœ… ìš´ì˜/í…ŒìŠ¤íŠ¸ DB í™˜ê²½ ë¶„ë¦¬ ë° .env/ì»¨í…Œì´ë„ˆ ë¶„ë¦¬
âŒ ì£¼ìš” í…Œì´ë¸”/ì¸ë±ìŠ¤/ì œì•½ì¡°ê±´ ì„¤ê³„ í™•ì •
âœ… íŠ¸ëœì­ì…˜/ì›ìì„±/ì •í•©ì„± í…ŒìŠ¤íŠ¸
âœ… ë°ì´í„° ì •í•©ì„± ê²€ì¦(ìƒ˜í”Œ ë°ì´í„°, CRUD, FK ë“±) â€” ê¸°ë³¸ CRUD/FK ìŠ¤ëª¨í¬ í†µê³¼
âš ï¸ ë°±ì—…/ë³µêµ¬ ì „ëµ ìˆ˜ë¦½ ë° í…ŒìŠ¤íŠ¸
  - ë©”ëª¨: ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ë¤í”„/ë³µêµ¬ ìŠ¤ë‹ˆí«
    - ë°±ì—…: `docker exec cc_postgres pg_dump -U cc_user -d cc_webapp > backup_cc_webapp_$(Get-Date -Format yyyyMMddHHmmss).sql`
    - ë³µêµ¬(ì£¼ì˜: ë°ì´í„° ì‚­ì œ): `docker exec -i cc_postgres psql -U cc_user -d cc_webapp < backup.sql`
âœ… ë§ˆì´ê·¸ë ˆì´ì…˜/ì •í•©ì„± ìë™í™” í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± â€” CI Alembic history + downgrade(-1)/upgrade head ì¶”ê°€
âœ… ê°œì„ /ì´ìŠˆ/í•´ê²°ë‚´ì—­ ë¬¸ì„œí™”
âœ… Kafka ì—°ë™ (ì´ë²¤íŠ¸/ì‹¤ì‹œê°„ ë°ì´í„° ì²˜ë¦¬) â€” ìµœì†Œ ì—°ê²°/ë¼ìš´ë“œíŠ¸ë¦½(í”¼í¬) ìŠ¤ëª¨í¬ ì™„ë£Œ
ì²´í¬ ë°©ë²•: Producer/Consumer í…ŒìŠ¤íŠ¸, ë©”ì‹œì§€ ë°œí–‰/êµ¬ë… í™•ì¸
ê²€ì¦ ê¸°ì¤€: ë©”ì‹œì§€ ì†ì‹¤ ì—†ì´ ì „ë‹¬ë˜ëŠ”ì§€ í™•ì¸
ì²´í¬ ëŒ€ìƒ:
âœ… Kafka ì—°ê²° ì„¤ì •
âœ… í† í”½ ì •ì˜ ë° ìƒì„± â€” auto-create + CI KAFKA_TEST_TOPIC=cc_test_ci
âœ… Producer êµ¬í˜„ (ì‚¬ìš©ì í–‰ë™, ë³´ìƒ ì´ë²¤íŠ¸ ë“±)
âœ… Consumer ê·¸ë£¹ ì„¤ì • â€” ê³ ìœ  consumer group/pytest ê²©ë¦¬
âœ… ì˜¤ë¥˜ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜
âŒ ìŠ¤í‚¤ë§ˆ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì—°ë™ (í•„ìš”ì‹œ)

 - [âœ…] JWT ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬ (ì´ˆëŒ€ì½”ë“œ/ë‹‰ë„¤ì„ ê¸°ë°˜, VIP/ë“±ê¸‰ë³„ ì ‘ê·¼ì œì–´)
  - ì²´í¬ ë°©ë²•: í† í° ë°œê¸‰/ê²€ì¦ í…ŒìŠ¤íŠ¸, ë³´í˜¸ëœ ì—”ë“œí¬ì¸íŠ¸ ì ‘ê·¼ ì‹œë„
  - ê²€ì¦ ê¸°ì¤€: ì¸ì¦ í—¤ë” ì—†ì´ ì ‘ê·¼ ì‹œ 401, ê¶Œí•œ ì—†ëŠ” ê²½ìš° 403 ë°˜í™˜
  - ì²´í¬ ëŒ€ìƒ:
   - [âœ…] JWT ì¸ì½”ë”©/ë””ì½”ë”© ê¸°ëŠ¥
   - [âœ…] í† í° ë°œê¸‰ ì—”ë“œí¬ì¸íŠ¸
   - [âœ…] ë§Œë£Œ ì‹œê°„ ì„¤ì • (ê¸°ë³¸ 30ë¶„, JWT_EXPIRE_MINUTESë¡œ ì¡°ì •)
   - [âœ…] í† í° ë¦¬í”„ë ˆì‹œ ë©”ì»¤ë‹ˆì¦˜ (POST /api/auth/refresh ê¸°ë³¸ êµ¬í˜„; íšŒì „/ë¸”ë™ë¦¬ìŠ¤íŠ¸ëŠ” ì¶”í›„)
   - [âœ…] ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´ (RBAC)
   - [âœ…] VIP/PREMIUM/STANDARD ë“±ê¸‰ë³„ ê¶Œí•œ

- [] í…ŒìŠ¤íŠ¸ ì½”ë“œ(Pytest) ë° ì—ëŸ¬/ë¡œê¹…/ë¬¸ì„œí™”
  - ì²´í¬ ë°©ë²•: pytest -v ì‹¤í–‰, ì½”ë“œ ì»¤ë²„ë¦¬ì§€ í™•ì¸
  - ê²€ì¦ ê¸°ì¤€: í•µì‹¬ ê¸°ëŠ¥ 80% ì´ìƒ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€, ì˜ˆì™¸ ì²˜ë¦¬ ë¬¸ì„œí™”
  - ì²´í¬ ëŒ€ìƒ:
  - [âŒ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (ì„œë¹„ìŠ¤, ë¦¬í¬ì§€í† ë¦¬)
  - [âœ…] í†µí•© í…ŒìŠ¤íŠ¸ (API ì—”ë“œí¬ì¸íŠ¸)
  - [âœ…] ë¡œê¹… ì„¤ì • (êµ¬ì¡°í™”ëœ ë¡œê·¸)
  - [âœ…] ì—ëŸ¬ í•¸ë“¤ë§ ë¯¸ë“¤ì›¨ì–´
  - [âœ…] ì‚¬ìš©ì ì •ì˜ ì˜ˆì™¸ í´ë˜ìŠ¤
  - [âœ…] API ë¬¸ì„œí™” (OpenAPI/Swagger)


### ì‚¬ìš©ì ì—¬ì • 1: ì§„ì… ë° ë“±ë¡ (2025-08-11 ì—…ë°ì´íŠ¸)
- [x] ì´ˆëŒ€ì½”ë“œ ìœ íš¨ì„± ê²€ì¦ API (GET /api/auth/check-invite/{code})
  - 5858 ì½”ë“œ: í•­ìƒ valid=true, infinite=trueë¡œ ì‘ë‹µ (ë¬´í•œ ì¬ì‚¬ìš©)
  - ê·¸ ì™¸ ì½”ë“œëŠ” í˜„ì¬ valid=false, reason=UNKNOWN_OR_UNSUPPORTED_CODE
  - ê²€ì¦: ì»¨í…Œì´ë„ˆ ë‚´ pytest ìŠ¤ëª¨í¬ í†µê³¼(app/tests/test_invite_signup_login_me.py)

- [x] íšŒì›ê°€ì… API (POST /api/auth/signup)
  - ìœ íš¨í•œ ì´ˆëŒ€ì½”ë“œ(5858) ê¸°ë°˜ ê°€ì…, bcrypt í•´ì‹± ì‚¬ìš©, ê¸°ë³¸ ì„¤ì • ì ìš©
  - ì„±ê³µ ì‹œ JWT ë°œê¸‰ ë° ì‚¬ìš©ì ì‘ë‹µ ë°˜í™˜
  - ê²€ì¦: signupâ†’loginâ†’me í”Œë¡œìš° í…ŒìŠ¤íŠ¸ í†µê³¼
  - ì£¼: 5858ì€ ì‚¬ìš© ì²˜ë¦¬ ì—†ì´ ë¬´í•œ ì¬ì‚¬ìš© ì •ì±…(ìš”êµ¬ì‚¬í•­ ë°˜ì˜)

- [x] ë¡œê·¸ì¸ API (POST /api/auth/login)
  - ì˜¬ë°”ë¥¸ ìê²© ì¦ëª… ì‹œ 200 + JWT ë°œê¸‰, ì‹¤íŒ¨ ì‹œ 401
  - ìµœê·¼ ë¡œê·¸ì¸ ì‹œê°„ ì—…ë°ì´íŠ¸ í¬í•¨
  - [âœ…] ì•¡ì„¸ìŠ¤ í† í° ë°œê¸‰ (HS256, ê¸°ë³¸ 30ë¶„ ë§Œë£Œ â€” JWT_EXPIRE_MINUTESë¡œ ì¡°ì •)
  - [âœ…] ë¦¬í”„ë ˆì‹œ í† í° ë°œê¸‰/ê²€ì¦ ê²½ë¡œ(ê¸°ë³¸) â€” íšŒì „/ë¸”ë™ë¦¬ìŠ¤íŠ¸ëŠ” ì¶”í›„
  - [x] ì‚¬ìš©ì ì •ë³´ ì‘ë‹µ (GET /api/auth/me)
    - ê²€ì¦: Bearerë¡œ /api/auth/me 200 ë° ì •í™•í•œ ì‚¬ìš©ì ì •ë³´ ë°˜í™˜ í™•ì¸

- [] JWT í† í° ë°œê¸‰/ê°±ì‹  API
  - ì²´í¬ ë°©ë²•: ë§Œë£Œëœ í† í°ìœ¼ë¡œ ê°±ì‹  ìš”ì²­, ìœ íš¨í•œ í† í°ìœ¼ë¡œ ë³´í˜¸ëœ API ì ‘ê·¼
  - ê²€ì¦ ê¸°ì¤€: í† í° ë§Œë£Œ/ê°±ì‹  ë©”ì»¤ë‹ˆì¦˜ì´ ì •ìƒ ì‘ë™ 
  - ì²´í¬ ëŒ€ìƒ:
  - [âœ…] í† í° ê°±ì‹  ì—”ë“œí¬ì¸íŠ¸ (POST /api/auth/refresh) â€” êµ¬í˜„ ì™„ë£Œ
  - [âœ…] ìœ íš¨ê¸°ê°„ ì„¤ì • (ê¸°ë³¸ 30ë¶„; í™˜ê²½ë³€ìˆ˜ë¡œ ì¡°ì • ê°€ëŠ¥)
    - [] í† í° ë¸”ë™ë¦¬ìŠ¤íŠ¸ (ë¯¸êµ¬í˜„)
  - [âœ…] í† í° ê²€ì¦ ë¡œì§ (python-jose ì‚¬ìš©)
    - [] ë™ì‹œ ì„¸ì…˜ ê´€ë¦¬ (ë¯¸êµ¬í˜„)
    - [] ê°•ì œ ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥ (ë¯¸êµ¬í˜„)




- [] ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ API (GET /api/auth/me)
  - ì²´í¬ ë°©ë²•: JWT í† í°ìœ¼ë¡œ ë³´í˜¸ëœ ì—”ë“œí¬ì¸íŠ¸ ì ‘ê·¼
  - ê²€ì¦ ê¸°ì¤€: ìœ íš¨í•œ í† í°ìœ¼ë¡œ ì‚¬ìš©ì ì •ë³´ ë°˜í™˜, ë¬´íš¨í•œ í† í°ì€ 401 ì˜¤ë¥˜ 

    
### ì‚¬ìš©ì ì—¬ì • 2: ë©”ì¸ ë£¨í”„
- [] í”„ë¡œí•„ ì¡°íšŒ API (GET /api/users/{id}/profile)
  - ì²´í¬ ë°©ë²•: ìì‹ /íƒ€ì¸ì˜ í”„ë¡œí•„ ì¡°íšŒ ì‹œë„, ì¸ì¦ í† í° ì—†ì´ ì ‘ê·¼ ì‹œë„
  - ê²€ì¦ ê¸°ì¤€: ë³¸ì¸ ì •ë³´ëŠ” ìƒì„¸ ì¡°íšŒ, íƒ€ì¸ ì •ë³´ëŠ” ì œí•œì  ì¡°íšŒ ë˜ëŠ” ì°¨ë‹¨
  - í˜„ì¬ ìƒíƒœ: 
  - ì²´í¬ ëŒ€ìƒ:
    - [] ê¶Œí•œ ê¸°ë°˜ ì •ë³´ í•„í„°ë§ (ë³¸ì¸/íƒ€ì¸ êµ¬ë¶„ ë¡œì§ êµ¬í˜„)
    - [] ê¸°ë³¸ ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ (ë‹‰ë„¤ì„, í† í°, ë­í¬)
    - [] í™œë™ í†µê³„ ê³„ì‚° (ì¶”í›„ êµ¬í˜„ ì˜ˆì •)
    - [] ì§„í–‰ ì¤‘ì¸ ë¯¸ì…˜ì •ë³´ (ì¶”í›„ êµ¬í˜„ ì˜ˆì •)
    - [] ë³´ìœ  í† í°/í†µí™” ì •ë³´ (ì‚¬ì´ë²„ í† í° ì¡°íšŒ ì™„ë£Œ)
  - ì™„ë£Œëœ ì‘ì—…:
    -  backend/app/routers/users.py: í”„ë¡œí•„ API êµ¬í˜„ (Raw SQL ì‚¬ìš©)
    -  ê¶Œí•œë³„ ë°ì´í„° í•„í„°ë§ ë¡œì§ (ë³¸ì¸/íƒ€ì¸ êµ¬ë¶„)
    -  ê¸°ë³¸ ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ (ID, ë‹‰ë„¤ì„, í† í°, ë­í¬)
    -  í”„ë¡ íŠ¸ì—”ë“œ ì»´í¬ë„ŒíŠ¸ ì •ë¦¬ (ì¤‘ë³µ ì œê±°, ProfileHeader í†µí•©)
    -  API ì‘ë‹µ êµ¬ì¡° ì •ì˜ ë° í…ŒìŠ¤íŠ¸ ì™„ë£Œ
  - í…ŒìŠ¤íŠ¸ ê²°ê³¼:
    -  GET /api/users/1/profile â†’ 200 OK
    -  ì‚¬ìš©ì ë°ì´í„° ì •ìƒ ë°˜í™˜: {"user_id":1,"nickname":"ê´€ë¦¬ì","cyber_tokens":10000,"rank":"admin"}
    -  ë³¸ì¸ í”„ë¡œí•„ ì—¬ë¶€ íŒë‹¨ (is_own_profile: true)
    -  ì¸ì¦ ì‚¬ìš©ì ID ì •ìƒ ì²˜ë¦¬ (current_user_id: 1)
  - í•´ê²°ëœ ì´ìŠˆ:
    -  SQLAlchemy ëª¨ë¸ê³¼ ì‹¤ì œ í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ë¶ˆì¼ì¹˜ â†’ Raw SQL ì‚¬ìš©ìœ¼ë¡œ í•´ê²°
    -  500 Internal Server Error â†’ ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ì •ìƒí™”
    -  ì¤‘ë³µ ì»´í¬ë„ŒíŠ¸ ì •ë¦¬ (ModernProfileHeader ì œê±°)
  - í–¥í›„ ê°œì„ ì‚¬í•­:
    - [] ìƒì„¸ í™œë™ í†µê³„ ê³„ì‚° êµ¬í˜„
    - []  ë¯¸ì…˜ ì§„í–‰ë„ API ì—°ë™
    - [] íƒ€ì¸ í”„ë¡œí•„ ì¡°íšŒ ì‹œ ì œí•œì  ì •ë³´ í•„í„°ë§
    - [] ì¸ì¦ í† í° ê¸°ë°˜ ì ‘ê·¼ ì œì–´ ê°•í™”


- [ ] ìŠ¬ë¡¯ ê²Œì„ API (POST /api/actions/SLOT_SPIN)
  - ì²´í¬ ë°©ë²•: ì—°ì† ìŠ¤í•€ ì‹œë„, í™•ë¥  ë¶„í¬ ê²€ì¦ì„ ìœ„í•œ ëŒ€ëŸ‰ ìš”ì²­ í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: ìŠ¤íŠ¸ë¦­ ì¹´ìš´íŠ¸ ì¦ê°€, ë³€ë™ ë¹„ìœ¨ ë³´ìƒ ë¡œì§ ì •ìƒ ë™ì‘
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ìŠ¬ë¡¯ ìŠ¤í•€ í™•ë¥  í…Œì´ë¸”
    - [ ] ìŠ¤íŠ¸ë¦­/ì—°ì† ë³´ìƒ ë©”ì»¤ë‹ˆì¦˜
    - [ ] ê²°ê³¼ ê²°ì • ì•Œê³ ë¦¬ì¦˜
    - [ ] ëœë¤ ìƒì„±ê¸° í’ˆì§ˆ
    - [ ] ë³´ìƒ ì§€ê¸‰ ì—°ë™
    - [ ] ì‚¬ìš©ì ì•¡ì…˜ ë¡œê¹…

- [ ] ê°€ì±  ìŠ¤í•€ API (POST /api/gacha/spin)
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ ë“±ê¸‰ì˜ ì•„ì´í…œ ë“œë¡­ í™•ë¥  í…ŒìŠ¤íŠ¸ (1000íšŒ ì´ìƒ ì‹œë®¬ë ˆì´ì…˜)
  - ê²€ì¦ ê¸°ì¤€: í™•ë¥  ë¶„í¬ê°€ ì„¤ì •ê°’ì˜ Â±5% ì´ë‚´, ë¡œê·¸ ì •í™•íˆ ê¸°ë¡
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ë“±ê¸‰ë³„ ì•„ì´í…œ í™•ë¥  í…Œì´ë¸” (SSR, SR, R, N)
    - [ ] ì²œì¥/ë³´ì¥ ë©”ì»¤ë‹ˆì¦˜ (XíšŒ ì´ìƒ ì‹œ ê³ ë“±ê¸‰ ë³´ì¥)
    - [ ] ê°€ì±  ë¹„ìš© ì°¨ê° ë¡œì§
    - [ ] ì•„ì´í…œ ì§€ê¸‰ ë¡œì§
    - [ ] í™•ë¥  ê³µê°œ ì •ë³´
    - [ ] ê°€ì±  ê²°ê³¼ íˆìŠ¤í† ë¦¬

- [ ] ë³´ìƒ ì§€ê¸‰ API (POST /api/rewards)
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ ë³´ìƒ ìœ í˜• ì§€ê¸‰ í…ŒìŠ¤íŠ¸, ë™ì‹œ ë‹¤ìˆ˜ ìš”ì²­ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: ì‚¬ìš©ì ì”ì•¡/ì¸ë²¤í† ë¦¬ ì •í™•íˆ ì—…ë°ì´íŠ¸, ì¤‘ë³µ ì§€ê¸‰ ë°©ì§€
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ë³´ìƒ ìœ í˜•ë³„ ì²˜ë¦¬ (ì½”ì¸, ì ¬, ì•„ì´í…œ)
    - [ ] íŠ¸ëœì­ì…˜ ì²˜ë¦¬ (ì›ìì„±)
    - [ ] ì¤‘ë³µ ì§€ê¸‰ ë°©ì§€ (idempotency)
    - [ ] ë³´ìƒ íˆìŠ¤í† ë¦¬ ê¸°ë¡
    - [ ] íŠ¹ë³„ ë³´ìƒ ì²˜ë¦¬ (ì´ë²¤íŠ¸, í”„ë¡œëª¨ì…˜)
    - [ ] ì•Œë¦¼ ì—°ë™ (ë³´ìƒ ì§€ê¸‰ ì•Œë¦¼)



### ì‚¬ìš©ì ì—¬ì • 3: ê°œì¸í™” ë° ìœ ì§€
-

- [ ] ì‹¤ì‹œê°„ ì•Œë¦¼ API (SSE/WebSocket)
  - ì²´í¬ ë°©ë²•: í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ìœ ì§€ í…ŒìŠ¤íŠ¸, ë‹¤ì¤‘ í´ë¼ì´ì–¸íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
  - ê²€ì¦ ê¸°ì¤€: ì—°ê²° ëŠê¹€ ì—†ì´ ì‹¤ì‹œê°„ ë©”ì‹œì§€ ì „ì†¡, ì¬ì—°ê²° ë©”ì»¤ë‹ˆì¦˜ ì‘ë™
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ì—°ê²° ê´€ë¦¬ ë° ì„¸ì…˜ ìœ ì§€
    - [ ] ë©”ì‹œì§€ í ë° ë²„í¼ë§
    - [ ] ì‚¬ìš©ìë³„ ì•Œë¦¼ í•„í„°ë§
    - [ ] ì—°ê²° ëŠê¹€ ê°ì§€ ë° ì¬ì—°ê²°
    - [ ] ë©€í‹°í”Œë ‰ì‹± ì§€ì›
    - [ ] ì•Œë¦¼ ìš°ì„ ìˆœìœ„ ë° ë°°ì¹˜ ì²˜ë¦¬

- [ ] ì‚¬ìš©ì í–‰ë™ ë¡œê¹… API (POST /api/actions)
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ action_typeìœ¼ë¡œ ë¡œê·¸ ê¸°ë¡, ëŒ€ëŸ‰ ë¡œê·¸ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: ëª¨ë“  í–‰ë™ì´ ì‹œê°„/ìœ í˜•/ì»¨í…ìŠ¤íŠ¸ì™€ í•¨ê»˜ ì •í™•íˆ ê¸°ë¡
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ì•¡ì…˜ íƒ€ì… ë¶„ë¥˜ ì²´ê³„ (SLOT_SPIN, GACHA_SPIN, LOGIN ë“±)
    - [ ] ë¡œê·¸ ë°ì´í„° êµ¬ì¡° ì„¤ê³„
    - [ ] ëŒ€ìš©ëŸ‰ ë¡œê·¸ ì²˜ë¦¬ ìµœì í™”
    - [ ] ì‹¤ì‹œê°„ í–‰ë™ ë¶„ì„ íŒŒì´í”„ë¼ì¸
    - [ ] ê°œì¸ì •ë³´ ë³´í˜¸ í•„í„°ë§
    - [ ] ë¡œê·¸ ì••ì¶• ë° ì•„ì¹´ì´ë¹™

### ì‚¬ìš©ì ì—¬ì • 4: ì „í™˜ ë° ìˆ˜ìµí™”
- [ ] ìƒì /í”„ë¦¬ë¯¸ì—„ ì¼ êµ¬ë§¤ API (POST /api/shop/buy)
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ ê¸ˆì•¡/ìƒí’ˆ êµ¬ë§¤ ì‹œë‚˜ë¦¬ì˜¤, ê²°ì œ ì‹¤íŒ¨ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: ê²°ì œ ì²˜ë¦¬ ì™„ë£Œ í›„ ì•„ì´í…œ/ì ¬ ì •í™•íˆ ì§€ê¸‰, íŠ¸ëœì­ì…˜ ë¡œê·¸ ê¸°ë¡
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ìƒí’ˆ ì¹´íƒˆë¡œê·¸ ê´€ë¦¬
    - [ ] ê°€ê²© ì •ì±… ë° í• ì¸ ì‹œìŠ¤í…œ
    - [ ] êµ¬ë§¤ ì „ ê²€ì¦ (ì”ì•¡, ìê²© ë“±)
    - [ ] ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ ì—°ë™
    - [ ] êµ¬ë§¤ ì™„ë£Œ í›„ ë³´ìƒ ì§€ê¸‰
    - [ ] ì˜ìˆ˜ì¦ ë°œí–‰ ë° ê¸°ë¡

-

- [ ] í•œì • íŒ¨í‚¤ì§€ API
  - ì²´í¬ ë°©ë²•: ê¸°ê°„ ì œí•œ íŒ¨í‚¤ì§€ êµ¬ë§¤, ë§Œë£Œëœ íŒ¨í‚¤ì§€ ì ‘ê·¼ ì‹œë„
  - ê²€ì¦ ê¸°ì¤€: íŒ¨í‚¤ì§€ ê°€ìš©ì„± ì •í™•íˆ ì œì–´, êµ¬ë§¤ ì œí•œ ì ìš©
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ì‹œê°„ ì œí•œ íŒ¨í‚¤ì§€ ìŠ¤ì¼€ì¤„ë§
    - [ ] ìˆ˜ëŸ‰ ì œí•œ ì¬ê³  ê´€ë¦¬
    - [ ] ì‚¬ìš©ìë³„ êµ¬ë§¤ ì œí•œ
    - [ ] íŒ¨í‚¤ì§€ ë‚´ìš©ë¬¼ ê´€ë¦¬
    - [ ] í”„ë¡œëª¨ì…˜ ì½”ë“œ ì‹œìŠ¤í…œ
    - [ ] ê¸´ê¸‰ íŒ¨í‚¤ì§€ ë¹„í™œì„±í™” ê¸°ëŠ¥

### ê´€ë¦¬ì ê¸°ëŠ¥
- [ ] íšŒì› ê´€ë¦¬ API (ëª©ë¡, ìƒì„¸, ë“±ê¸‰/ìƒíƒœ ë³€ê²½, ì‚­ì œ, ë¡œê·¸)
  - ì²´í¬ ë°©ë²•: ê´€ë¦¬ì/ì¼ë°˜ ì‚¬ìš©ì ê¶Œí•œìœ¼ë¡œ ì ‘ê·¼ ì‹œë„, CRUD ì‘ì—… í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: ê¶Œí•œì— ë”°ë¥¸ ì ‘ê·¼ ì œì–´, ë³€ê²½ ì‚¬í•­ ì¦‰ì‹œ ë°˜ì˜ ë° ë¡œê·¸ ê¸°ë¡

- [ ] ë³´ìƒ/ì•„ì´í…œ ê´€ë¦¬ API
  - ì²´í¬ ë°©ë²•: ì•„ì´í…œ ìƒì„±/ìˆ˜ì •/ì‚­ì œ, í™•ë¥  ì¡°ì • í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: ì•„ì´í…œ ì†ì„±/í™•ë¥  ë³€ê²½ ì¦‰ì‹œ ê²Œì„ì— ë°˜ì˜

 í‚¤ë¬´, [2025-07-29 ì˜¤ì „ 8:18]
- [ ] ì•Œë¦¼/ìº í˜ì¸ ê´€ë¦¬ API
  - ì²´í¬ ë°©ë²•: ì•Œë¦¼ ìƒì„±/ì˜ˆì•½/ì·¨ì†Œ, íƒ€ê²ŸíŒ… í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: ì˜ˆì•½ëœ ì‹œê°„ì— ì •í™•íˆ ë°œì†¡, ì„¸ê·¸ë¨¼íŠ¸ íƒ€ê²ŸíŒ… ì •í™•ì„±

## 2. í”„ë¡ íŠ¸ì—”ë“œ (Frontend)
### ê¸°ë°˜ ì„¤ì •
- [ ] Next.js + React + TypeScript í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
  - ì²´í¬ ë°©ë²•: npm run dev ë˜ëŠ” `yarn dev`ë¡œ ê°œë°œ ì„œë²„ êµ¬ë™
  - ê²€ì¦ ê¸°ì¤€: ì—ëŸ¬ ì—†ì´ ì•± ë¡œë“œ, TypeScript íƒ€ì… ì˜¤ë¥˜ ì—†ìŒ

- [ ] Tailwind CSS/Framer Motion í†µí•©
  - ì²´í¬ ë°©ë²•: ì»´í¬ë„ŒíŠ¸ì— Tailwind í´ë˜ìŠ¤ ì ìš©, Framer Motion ì• ë‹ˆë©”ì´ì…˜ êµ¬í˜„
  - ê²€ì¦ ê¸°ì¤€: ìŠ¤íƒ€ì¼ ì •ìƒ ì ìš©, ì• ë‹ˆë©”ì´ì…˜ ë¶€ë“œëŸ¬ìš´ ë™ì‘

- [ ] ë‹¤í¬ëª¨ë“œ/ë„¤ì˜¨ í…Œë§ˆ ì ìš© (Cyberpunk ìŠ¤íƒ€ì¼)
  - ì²´í¬ ë°©ë²•: í…Œë§ˆ ì „í™˜ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸, ëª¨ë“  í™”ë©´ì—ì„œ ì¼ê´€ëœ í…Œë§ˆ í™•ì¸
  - ê²€ì¦ ê¸°ì¤€: ë„¤ì˜¨ íš¨ê³¼(ê·¸ë¦¼ì, ê·¸ë¼ë°ì´ì…˜)ê°€ ì¼ê´€ë˜ê²Œ ì ìš©ë¨

- [ ] ë°˜ì‘í˜•/ì ‘ê·¼ì„±/SEO ìµœì í™”
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ í™”ë©´ í¬ê¸° í…ŒìŠ¤íŠ¸, Lighthouse ì ìˆ˜ í™•ì¸
  - ê²€ì¦ ê¸°ì¤€: ëª¨ë°”ì¼/íƒœë¸”ë¦¿/ë°ìŠ¤í¬íƒ‘ì—ì„œ ë ˆì´ì•„ì›ƒ ìœ ì§€, ì ‘ê·¼ì„± 90+ ì ìˆ˜

- [ ] í…ŒìŠ¤íŠ¸ ì½”ë“œ(Jest, React Testing Library)
  - ì²´í¬ ë°©ë²•: `npm test` ë˜ëŠ” yarn test ì‹¤í–‰
  - ê²€ì¦ ê¸°ì¤€: í•µì‹¬ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ ë‹¨ìœ„/í†µí•© í…ŒìŠ¤íŠ¸ í†µê³¼

### ì‚¬ìš©ì ì—¬ì • 1: ì§„ì… ë° ë“±ë¡
- [ ] ëœë”© í˜ì´ì§€ (Hero Section, ì• ë‹ˆë©”ì´ì…˜, ë„¤ì˜¨ íš¨ê³¼)
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ ë¸Œë¼ìš°ì €/ê¸°ê¸°ì—ì„œ í˜ì´ì§€ ë¡œë“œ, ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜ í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: 3ì´ˆ ì´ë‚´ ì´ˆê¸° ë¡œë“œ, ì• ë‹ˆë©”ì´ì…˜ í”„ë ˆì„ ë“œë¡­ ì—†ìŒ

- [ ] ì´ˆëŒ€ì½”ë“œ ì…ë ¥ í™”ë©´ (íš¨ê³¼, ìœ íš¨ì„± ê²€ì‚¬)
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ ì…ë ¥ ì‹œë‚˜ë¦¬ì˜¤(ìœ íš¨, ë§Œë£Œ, ì˜¤íƒ€ ë“±) í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: ì¦‰ê°ì ì¸ ì‹œê°/í…ìŠ¤íŠ¸ í”¼ë“œë°± ì œê³µ, ì…ë ¥ ìƒíƒœì— ë”°ë¥¸ UI ë³€í™”

- [ ] íšŒì›ê°€ì…/ë¡œê·¸ì¸ ëª¨ë‹¬ (ë‹‰ë„¤ì„, ì´ˆëŒ€ì½”ë“œ ê¸°ë°˜)
  - ì²´í¬ ë°©ë²•: ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸°, í¼ ì œì¶œ, ì˜¤ë¥˜ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: í¼ ìœ íš¨ì„± ê²€ì‚¬, ì„œë²„ ì‘ë‹µì— ë”°ë¥¸ ì ì ˆí•œ í”¼ë“œë°± í‘œì‹œ

- [ ] ì˜¨ë³´ë”© íŠœí† ë¦¬ì–¼ (ê²Œì„/ë³´ìƒ ì†Œê°œ)
  - ì²´í¬ ë°©ë²•: íŠœí† ë¦¬ì–¼ ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸, ê±´ë„ˆë›°ê¸° ì˜µì…˜ í™•ì¸
  - ê²€ì¦ ê¸°ì¤€: ë‹¨ê³„ë³„ ì§„í–‰ì´ ëª…í™•í•˜ê³  ì§ê´€ì , í•„ìˆ˜ ì •ë³´ ëª¨ë‘ í¬í•¨


### ì‚¬ìš©ì ì—¬ì • 2: ë©”ì¸ ë£¨í”„
- [ ] í™ˆ ëŒ€ì‹œë³´ë“œ (ìœ ì € ìƒíƒœ, ë³´ìœ  ì•„ì´í…œ, ë³´ìƒ ë¯¸ë¦¬ë³´ê¸°)
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ ì‚¬ìš©ì ìƒíƒœ(ì‹ ê·œ/VIP/ë†’ì€ ë ˆë²¨ ë“±)ì—ì„œ ëŒ€ì‹œë³´ë“œ ë Œë”ë§
  - ê²€ì¦ ê¸°ì¤€: ëª¨ë“  ì‚¬ìš©ì ì •ë³´/ìƒíƒœ ì •í™•íˆ í‘œì‹œ, ì¤‘ìš” ì •ë³´ ê°•ì¡° í‘œì‹œ

- [ ] SlotMachineComponent (ìŠ¤í•€, ì• ë‹ˆë©”ì´ì…˜, ì‚¬ìš´ë“œ)
  - ì²´í¬ ë°©ë²•: ì—°ì† ìŠ¤í•€, ìŠ¹ë¦¬/íŒ¨ë°° ì‹œë‚˜ë¦¬ì˜¤, ìŒì†Œê±° ëª¨ë“œ í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: ì• ë‹ˆë©”ì´ì…˜ ë¶€ë“œëŸ¬ì›€, ì‚¬ìš´ë“œ ì ì ˆíˆ ì¬ìƒ, ê²°ê³¼ ëª…í™•íˆ í‘œì‹œ

- [ ] GachaSpinComponent (í™•ë¥ , ì†Œì…œ ì¦ëª…, ì• ë‹ˆë©”ì´ì…˜)
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ ë“±ê¸‰ì˜ ì•„ì´í…œ íšë“ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: í¬ê·€ ì•„ì´í…œ íšë“ ì‹œ íŠ¹ë³„ ì• ë‹ˆë©”ì´ì…˜/íš¨ê³¼, ì†Œì…œ ì¦ëª… ìš”ì†Œ í‘œì‹œ

- [ ] í”¼ë“œë°± ì•Œë¦¼ ì‹œìŠ¤í…œ (í† ìŠ¤íŠ¸, ìºë¦­í„° ëŒ€í™”)
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ ì•Œë¦¼ íŠ¸ë¦¬ê±° í…ŒìŠ¤íŠ¸, ë™ì‹œ ë‹¤ë°œì  ì•Œë¦¼ ì¼€ì´ìŠ¤
  - ê²€ì¦ ê¸°ì¤€: ì•Œë¦¼ ìš°ì„ ìˆœìœ„ ì ìš©, ê²¹ì¹¨ ì—†ì´ í‘œì‹œ, ì ì ˆí•œ ì§€ì† ì‹œê°„

- [ ] BattlePassComponent (ë¬´ë£Œ/ìœ ë£Œ íŠ¸ë™, ë ˆë²¨ì—…, ë³´ìƒ)
  - ì²´í¬ ë°©ë²•: ë ˆë²¨ í”„ë¡œê·¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸, ë³´ìƒ ì²­êµ¬ í”„ë¡œì„¸ìŠ¤ í™•ì¸
  - ê²€ì¦ ê¸°ì¤€: ë¬´ë£Œ/ìœ ë£Œ íŠ¸ë™ ëª…í™•íˆ êµ¬ë¶„, í˜„ì¬ ì§„í–‰ ìƒí™© ì‹œê°ì ìœ¼ë¡œ í‘œí˜„

### ì‚¬ìš©ì ì—¬ì • 3: ê°œì¸í™” ë° ìœ ì§€
- [ ] ê°œì¸í™”ëœ ì¶”ì²œ UI
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ ì„¸ê·¸ë¨¼íŠ¸ ì‚¬ìš©ìë¡œ ë¡œê·¸ì¸í•˜ì—¬ ì¶”ì²œ ë‚´ìš© í™•ì¸
  - ê²€ì¦ ê¸°ì¤€: ì„¸ê·¸ë¨¼íŠ¸ë³„ ì°¨ë³„í™”ëœ ì¶”ì²œ í‘œì‹œ, í´ë¦­ ì‹œ í•´ë‹¹ ê¸°ëŠ¥ìœ¼ë¡œ ì´ë™
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ì„¸ê·¸ë¨¼íŠ¸ë³„ ì¶”ì²œ ì¹´ë“œ ë ˆì´ì•„ì›ƒ
    - [ ] ì‚¬ì´ë²„ í† í° ë¯¸ì…˜ ì¶”ì²œ í‘œì‹œ
    - [ ] ë³´ìƒ ì œì•ˆ UI
    - [ ] ì¶”ì²œ ìš°ì„ ìˆœìœ„ ì‹œê°í™”
    - [ ] ì¶”ì²œ ìƒˆë¡œê³ ì¹¨ ê¸°ëŠ¥
    - [ ] ì¶”ì²œ í”¼ë“œë°± ìˆ˜ì§‘ (ìœ ìš©í•¨/ì•„ë‹˜)

- [ ] ì•Œë¦¼ ë°°ë„ˆ/ì„¼í„° (ì‹¤ì‹œê°„, ì˜ˆì •ëœ ì´ë²¤íŠ¸)
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ ì•Œë¦¼ ìœ í˜• ìˆ˜ì‹  í…ŒìŠ¤íŠ¸, ì•Œë¦¼ ì„¼í„° ê¸°ëŠ¥ í™•ì¸
  - ê²€ì¦ ê¸°ì¤€: ì‹¤ì‹œê°„ ì•Œë¦¼ í‘œì‹œ, ì½ìŒ/ì•ˆì½ìŒ ìƒíƒœ ê´€ë¦¬, ì•Œë¦¼ íˆìŠ¤í† ë¦¬
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ì‹¤ì‹œê°„ ì•Œë¦¼ ë°°ë„ˆ (í† ìŠ¤íŠ¸)
    - [ ] ì•Œë¦¼ ì„¼í„° UI
    - [ ] ì•Œë¦¼ ë¶„ë¥˜ ë° í•„í„°ë§
    - [ ] ì½ìŒ ìƒíƒœ ê´€ë¦¬
    - [ ] ì•Œë¦¼ ì„¤ì • í˜ì´ì§€
    - [ ] í‘¸ì‹œ ì•Œë¦¼ ê¶Œí•œ ìš”ì²­ UI

- [ ] ì†Œì…œ ì¦ëª… ìš”ì†Œ (Xëª…ì´ ì˜¤ëŠ˜ ìŠ¤í•€í–ˆìŠµë‹ˆë‹¤)
  - ì²´í¬ ë°©ë²•: ì‹¤ì‹œê°„ í†µê³„ ì—…ë°ì´íŠ¸ í™•ì¸, ë‹¤ì–‘í•œ í™œë™ ì¦ëª… í‘œì‹œ
  - ê²€ì¦ ê¸°ì¤€: ì‹¤ì‹œê°„ ë°ì´í„° ë°˜ì˜, ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¹˜ í‘œì‹œ
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ì‹¤ì‹œê°„ í™œë™ í†µê³„ í‘œì‹œ
    - [ ] ìµœê·¼ ë³´ìƒ íšë“ì í‘œì‹œ
    - [ ] ì¸ê¸° ê²Œì„/ê¸°ëŠ¥ í‘œì‹œ
    - [ ] ì „ì²´ ì‚¬ìš©ì í™œë™ ì§€í‘œ
    - [ ] ì§€ì—­ë³„/ì‹œê°„ëŒ€ë³„ í™œë™ í‘œì‹œ
    - [ ] ì†Œì…œ ì¦ëª… ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼

- [ ] ìŠ¤íŠ¸ë¦­/ì—°ì† ë³´ìƒ í‘œì‹œ
  - ì²´í¬ ë°©ë²•: ì—°ì† ë¡œê·¸ì¸/í”Œë ˆì´ë¡œ ìŠ¤íŠ¸ë¦­ ì¦ê°€ í™•ì¸, ë³´ìƒ ì§€ê¸‰ í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: ìŠ¤íŠ¸ë¦­ ì¹´ìš´íŠ¸ ì •í™•ì„±, ë³´ìƒ ì˜ˆìƒì¹˜ í‘œì‹œ, ì¤‘ë‹¨ ì‹œ ì´ˆê¸°í™”
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ìŠ¤íŠ¸ë¦­ ì¹´ìš´í„° UI
    - [ ] ì—°ì† ë¡œê·¸ì¸ ë‹¬ë ¥
    - [ ] ë‹¤ìŒ ë³´ìƒ ë¯¸ë¦¬ë³´ê¸°
    - [ ] ìŠ¤íŠ¸ë¦­ ë ˆë²¨ë³„ í˜œíƒ í‘œì‹œ
    - [ ] ìŠ¤íŠ¸ë¦­ ë³´í˜¸ ì•„ì´í…œ (ìˆì„ ê²½ìš°)
    - [ ] ìŠ¤íŠ¸ë¦­ ë³µêµ¬ ì˜µì…˜

### ì‚¬ìš©ì ì—¬ì • 4: ì „í™˜ ë° ìˆ˜ìµí™”
- [ ] ShopComponent (í”„ë¦¬ë¯¸ì—„ ì¼, í•œì • íŒ¨í‚¤ì§€)
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ ìƒí’ˆ êµ¬ë§¤ í”Œë¡œìš° í…ŒìŠ¤íŠ¸, ê²°ì œ ëª¨ë‹¬ í™•ì¸
  - ê²€ì¦ ê¸°ì¤€: ìƒí’ˆ ì •ë³´ ì •í™• í‘œì‹œ, ê²°ì œ í”„ë¡œì„¸ìŠ¤ ì™„ë£Œ, êµ¬ë§¤ í™•ì¸ ì•Œë¦¼
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ìƒí’ˆ ì¹´íƒˆë¡œê·¸ í‘œì‹œ
    - [ ] ê°€ê²© ë° í• ì¸ ì •ë³´ í‘œì‹œ
    - [ ] ìƒí’ˆ ìƒì„¸ ì •ë³´ ëª¨ë‹¬
    - [ ] êµ¬ë§¤ ë²„íŠ¼ ë° ìˆ˜ëŸ‰ ì„ íƒ
    - [ ] ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥ (í•„ìš”ì‹œ)
    - [ ] êµ¬ë§¤ íˆìŠ¤í† ë¦¬ í˜ì´ì§€



í‚¤ë¬´, [2025-07-29 ì˜¤ì „ 8:18]
- [ ] VIP í˜œíƒ/ì—…ê·¸ë ˆì´ë“œ UI
  - ì²´í¬ ë°©ë²•: ë“±ê¸‰ë³„ í˜œíƒ í‘œì‹œ í™•ì¸, ì—…ê·¸ë ˆì´ë“œ ì¡°ê±´ ë° í”„ë¡œì„¸ìŠ¤ í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: í˜„ì¬ ë“±ê¸‰ í‘œì‹œ, ë‹¤ìŒ ë“±ê¸‰ ì¡°ê±´ ëª…ì‹œ, í˜œíƒ ë¹„êµ í‘œì‹œ
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] í˜„ì¬ VIP ë“±ê¸‰ í‘œì‹œ
    - [ ] ë“±ê¸‰ë³„ í˜œíƒ ë¹„êµí‘œ
    - [ ] ì—…ê·¸ë ˆì´ë“œ ì§„í–‰ë¥  ë°”
    - [ ] VIP ì „ìš© ì½˜í…ì¸  í‘œì‹œ
    - [ ] ë“±ê¸‰ ê¸°ê°„ ë° ê°±ì‹  ì •ë³´
    - [ ] VIP ë°°ì§€ ë° ì‹œê°ì  íš¨ê³¼

- [ ] ê²°ì œ ëª¨ë‹¬ (ì•ˆì „í•˜ê³  ë§¤ë ¥ì ì¸ UI)
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ, ë³´ì•ˆ ìš”ì†Œ í™•ì¸, ê²°ì œ ì™„ë£Œ í”Œë¡œìš°
  - ê²€ì¦ ê¸°ì¤€: ë³´ì•ˆ ì •ë³´ í‘œì‹œ, ê²°ì œ ì§„í–‰ ìƒíƒœ í‘œì‹œ, ì˜¤ë¥˜ ì²˜ë¦¬ ì•ˆë‚´
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ ì¸í„°í˜ì´ìŠ¤
    - [ ] ë³´ì•ˆ ì¸ì¦ì„œ í‘œì‹œ
    - [ ] ê²°ì œ ì§„í–‰ ìƒíƒœ í‘œì‹œ
    - [ ] ì—ëŸ¬ ë©”ì‹œì§€ ë° ì¬ì‹œë„ ì˜µì…˜
    - [ ] ê²°ì œ ì™„ë£Œ í™•ì¸ í˜ì´ì§€
    - [ ] ì˜ìˆ˜ì¦ ë‹¤ìš´ë¡œë“œ/ì´ë©”ì¼ ë°œì†¡


## 3. EPI (ì™¸ë¶€ ì—°ë™/í†µí•©)
### ì•Œë¦¼ ë° ì»¤ë®¤ë‹ˆì¼€ì´ì…˜
- [ ] ì´ë©”ì¼ ì„œë¹„ìŠ¤ ì—°ë™ (íšŒì›ê°€ì…, ë³´ìƒ, ì´ë²¤íŠ¸)
  - ì²´í¬ ë°©ë²•: ê° ìœ í˜•ì˜ ì´ë©”ì¼ ë°œì†¡ í…ŒìŠ¤íŠ¸, ë‹¤ì–‘í•œ ì´ë©”ì¼ í´ë¼ì´ì–¸íŠ¸ í™•ì¸
  - ê²€ì¦ ê¸°ì¤€: ì´ë©”ì¼ ì „ì†¡ ì„±ê³µë¥  99%+, HTML/í…ìŠ¤íŠ¸ í˜•ì‹ ëª¨ë‘ ì •ìƒ í‘œì‹œ

- [ ] í‘¸ì‹œ ì•Œë¦¼ ì„œë¹„ìŠ¤ ì—°ë™ (ëª¨ë°”ì¼, ì›¹)
  - ì²´í¬ ë°©ë²•: í† í° ë“±ë¡/í•´ì œ, ë‹¤ì–‘í•œ ê¸°ê¸°/ë¸Œë¼ìš°ì €ì—ì„œ ì•Œë¦¼ ìˆ˜ì‹  í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: íƒ€ì´ë°/ë‚´ìš© ì •í™•íˆ ì „ë‹¬, ì‚¬ìš©ì ê¶Œí•œ ì„¤ì • ë°˜ì˜

- [ ] SSE/WebSocket ì‹¤ì‹œê°„ ì•Œë¦¼ ì—°ë™
  - ì²´í¬ ë°©ë²•: ì—°ê²° ìœ ì§€ í…ŒìŠ¤íŠ¸(30ë¶„+), ë„¤íŠ¸ì›Œí¬ ì¤‘ë‹¨/ì¬ì—°ê²° ì‹œë‚˜ë¦¬ì˜¤
  - ê²€ì¦ ê¸°ì¤€: ì—°ê²° ì•ˆì •ì„±, ë©”ì‹œì§€ ì†ì‹¤ ì—†ìŒ, íš¨ìœ¨ì ì¸ ì¬ì—°ê²° ë©”ì»¤ë‹ˆì¦˜

- [ ] ì•Œë¦¼ í…œí”Œë¦¿ ë° ê°œì¸í™” ë¡œì§
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ ì‚¬ìš©ì ì„¸ê·¸ë¨¼íŠ¸/í–‰ë™ ê¸°ë°˜ ì•Œë¦¼ ìƒì„±
  - ê²€ì¦ ê¸°ì¤€: ì‚¬ìš©ì ì»¨í…ìŠ¤íŠ¸ì— ë”°ë¥¸ ì ì ˆí•œ ë©”ì‹œì§€/ì½˜í…ì¸  í¬í•¨

### ê²°ì œ ë° ë³´ì•ˆ


- [ ] ê²°ì œ ê²€ì¦ ë° ë³´ì•ˆ ì²˜ë¦¬
  - ì²´í¬ ë°©ë²•: ìœ„ë³€ì¡°ëœ ê²°ì œ ì •ë³´/ìŠ¹ì¸ ì‹œë„, ì¤‘ë³µ ê²°ì œ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: ëª¨ë“  ì‚¬ê¸° ì‹œë„ ì°¨ë‹¨, ë¯¼ê° ë°ì´í„° ì•”í˜¸í™” í™•ì¸

- [ ] ê²°ì œ ì˜¤ë¥˜ ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜
  - ì²´í¬ ë°©ë²•: ë„¤íŠ¸ì›Œí¬ ì¤‘ë‹¨, ì„œë²„ ì˜¤ë¥˜ ë“± ë‹¤ì–‘í•œ ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤ ì¬í˜„
  - ê²€ì¦ ê¸°ì¤€: ìë™ ì¬ì‹œë„, ë¯¸ì™„ë£Œ íŠ¸ëœì­ì…˜ í•´ê²°, ì‚¬ìš©ì ì•ˆë‚´ ë©”ì‹œì§€

### ë°ì´í„° ë° ë¶„ì„
- [ ] ì‹¤ì‹œê°„ ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë° íŒŒì´í”„ë¼ì¸ (Kafka, ClickHouse)
- [ ] ëª¨ë‹ˆí„°ë§/ë¶„ì„ ë„êµ¬ ì—°ë™ (Grafana, Metabase)
- [ ] A/B í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ ì—°ë™
- [ ] ì‚¬ìš©ì í–‰ë™ ë¶„ì„ ë„êµ¬

### ì™¸ë¶€ ì„œë¹„ìŠ¤ í†µí•©
- [ ] ì™¸ë¶€ ê²Œì„ API ì—°ë™ (í•„ìš”ì‹œ)
- [ ] ì†Œì…œ ê³µìœ  ê¸°ëŠ¥ ì—°ë™
- [ ] ì„œë“œíŒŒí‹° SDK í†µí•© (í•„ìš”ì‹œ)
- [ ] Company A ì„œë¹„ìŠ¤ ì—°ë™ (ì‚¬ì´ë²„ í† í°)

## 4. ë°ì´í„°ë² ì´ìŠ¤ (Database)
### í•µì‹¬ í…Œì´ë¸” ë° êµ¬ì¡°
- [ ] users í…Œì´ë¸” (id, nickname, email, password_hash, created_at, vip_tier, battlepass_level, total_spent)
- [ ] user_segments í…Œì´ë¸” (id, user_id, rfm_group, ltv_score, risk_profile, last_updated)
- [ ] user_actions í…Œì´ë¸” (ì‚¬ìš©ì í–‰ë™ ê¸°ë¡)
- [ ] user_rewards í…Œì´ë¸” (ë³´ìƒ ì§€ê¸‰ ê¸°ë¡)
- [ ] gacha_log í…Œì´ë¸” (ê°€ì±  ê²°ê³¼ ê¸°ë¡)
- [ ] shop_transactions í…Œì´ë¸” (êµ¬ë§¤ ë‚´ì—­)

### ì„±ëŠ¥ ë° ì•ˆì •ì„±
- [ ] ì ì ˆí•œ ì¸ë±ìŠ¤ ì„¤ì • (ì ‘ê·¼ íŒ¨í„´ ê¸°ë°˜)
- [ ] ì¿¼ë¦¬ ìµœì í™” ë° ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ë³´ì•ˆ ì„¤ì • (ì ‘ê·¼ ì œì–´)
- [ ] ë°±ì—… ë° ë³µêµ¬ ì „ëµ êµ¬í˜„
- [ ] í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„±

### ë°ì´í„° ë¬´ê²°ì„± ë° ë¶„ì„
- [ ] íŠ¸ëœì­ì…˜ ê´€ë¦¬ ë° ë°ì´í„° ì¼ê´€ì„±
- [ ] ì™¸ë˜ í‚¤ ì œì•½ ì¡°ê±´ ë° ì •í•©ì„± ê²€ì¦
- [ ] ì‚¬ìš©ì ì„¸ê·¸ë¨¼íŠ¸ ë¶„ì„ (RFM ëª¨ë¸)
- [ ] ë¦¬ìŠ¤í¬ í”„ë¡œí•„ ë° LTV ìŠ¤ì½”ì–´ ê³„ì‚°
- [ ] ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸ (Redis ìºì‹œ í™œìš©)

### ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
- [ ] Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸
- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ í…ŒìŠ¤íŠ¸ ë° ê²€ì¦
- [ ] ë¡¤ë°± ì „ëµ ë° ë¹„ìƒ ë³µêµ¬ ê³„íš
- [ ] ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ ë¬¸ì„œí™”

## 5. êµ¬ì…/ì„œë²„ ì—°ë™ (Purchase/Server Integration)
### ìƒì  ë° ê²°ì œ ì‹œìŠ¤í…œ
- [ ] ìƒì  ìƒí’ˆ ê´€ë¦¬ ë° í‘œì‹œ (Premium Gem, íŒ¨í‚¤ì§€)
- [ ] êµ¬ë§¤ ë¡œì§ êµ¬í˜„ (POST /api/shop/buy)
- [ ] í™”í ì‹œìŠ¤í…œ êµ¬í˜„ (Regular Coins, Premium Gems)
- [ ] í•œì • íŒ¨í‚¤ì§€ ë° í”„ë¡œëª¨ì…˜ ê´€ë¦¬

### ì™¸ë¶€ ê²°ì œ í†µí•©
- [ ] ì™¸ë¶€ ê²°ì œ ì„œë²„ API ì—°ë™
- [ ] ê²°ì œ ê²€ì¦ ë° ë³´ì•ˆ ì²˜ë¦¬
- [ ] ì›¹í›…/ì½œë°± ì²˜ë¦¬
- [ ] ê²°ì œ ìƒíƒœ ì¶”ì  ë° ê´€ë¦¬

### íŠ¸ëœì­ì…˜ ë° ë³´ìƒ
- [ ] êµ¬ë§¤ ë‚´ì—­ ê¸°ë¡ (shop_transactions)
- [ ] êµ¬ë§¤ í›„ ë³´ìƒ ì§€ê¸‰ í”„ë¡œì„¸ìŠ¤
- [ ] ê°€ìƒí™”í ì”ì•¡ ê´€ë¦¬ (Redis ìºì‹œ)
- [ ] íŠ¸ëœì­ì…˜ ì¼ê´€ì„± ë° ë™ì‹œì„± ì œì–´

### ì˜ˆì™¸ ì²˜ë¦¬ ë° ëª¨ë‹ˆí„°ë§
- [ ] ê²°ì œ ì‹¤íŒ¨/ì·¨ì†Œ/í™˜ë¶ˆ ì²˜ë¦¬ ë¡œì§
- [ ] íŠ¸ëœì­ì…˜ ë¡œê·¸ ë° ê°ì‚¬
- [ ] êµ¬ë§¤ íŒ¨í„´ ëª¨ë‹ˆí„°ë§ ë° ì´ìƒ ê°ì§€
- [ ] ê²°ì œ ê´€ë ¨ ê³ ê° ì§€ì› ë„êµ¬

---

## 6. ì‚¬ìš©ì ì—¬ì • ë‹¨ê³„ë³„ í†µí•© ì²´í¬ë¦¬ìŠ¤íŠ¸
### ì—¬ì • 1: ì˜¨ë³´ë”© ë° ì²« ê²½í—˜
- [ ] ëœë”© í˜ì´ì§€ â†’ ì´ˆëŒ€ì½”ë“œ â†’ íšŒì›ê°€ì… â†’ íŠœí† ë¦¬ì–¼ íë¦„
- [ ] ì²« ë³´ìƒ ë° ì„±ì·¨ ê²½í—˜
- [ ] ë„¤ì˜¨ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¡œ ì‹œê°ì  ë§Œì¡±ê°
- [ ] ì²« ê²Œì„ ë©”ì»¤ë‹ˆì¦˜ ì†Œê°œ (ìŠ¬ë¡¯/ê°€ì± )
- [ ] ë°°í‹€íŒ¨ìŠ¤/VIP ì‹œìŠ¤í…œ ì†Œê°œ

### ì—¬ì • 2: ì°¸ì—¬ ìœ ë„ ë° ìŠµê´€í™”
- [ ] ì¼ì¼/ì£¼ê°„ ë³´ìƒ ì‹œìŠ¤í…œ
- [ ] ìŠ¤íŠ¸ë¦­/ì—°ì† ë¡œê·¸ì¸ ì¸ì„¼í‹°ë¸Œ
- [ ] ê²Œì„ ì½˜í…ì¸  í™•ì¥ ë° ë‹¤ì–‘í™”
- [ ] ë°°í‹€íŒ¨ìŠ¤ ì§„í–‰ ì‹œê°í™”
- [ ] ì†Œì…œ ì¦ëª… ë° ê²½ìŸ ìš”ì†Œ

### ì—¬ì • 3: ê°œì¸í™” ë° ëª°ì…
- [ ] RFM ì„¸ê·¸ë¨¼íŠ¸ ê¸°ë°˜ ê°œì¸í™” ì¶”ì²œ
- [ ] ì‚¬ì´ë²„ í† í° ì†Œë¹„/íšë“ ë¯¸ì…˜
- [ ] ì‹¬ë¦¬ í€´ì¦ˆ ê¸°ë°˜ ë§ì¶¤í˜• ê²½í—˜
- [ ] ì•Œë¦¼ì„ í†µí•œ ì¬ì°¸ì—¬ ìœ ë„
- [ ] ì‚¬ìš©ì í–‰ë™ ê¸°ë°˜ í”¼ë“œë°± ê°•í™”

### ì—¬ì • 4: ìˆ˜ìµí™” ë° ê°€ì¹˜ ì œê³µ
- [ ] í”„ë¦¬ë¯¸ì—„ ì ¬ êµ¬ë§¤ ë™ê¸° ë¶€ì—¬
- [ ] ì„±ì¸ ì½˜í…ì¸  ë‹¨ê³„ë³„ í•´ê¸ˆ ê²½í—˜
- [ ] VIP ë“±ê¸‰ ì—…ê·¸ë ˆì´ë“œ ê²½ë¡œ
- [ ] í•œì • íŒ¨í‚¤ì§€ ë° íŠ¹ë³„ í”„ë¡œëª¨ì…˜
- [ ] ì¶©ì„±ë„ ë³´ìƒ ë° í˜œíƒ

### ì—¬ì • 5: ìœ ì§€ ë° í™•ì¥
- [ ] ì´íƒˆ ë°©ì§€ ì¬ì°¸ì—¬ ì „ëµ
- [ ] ì‹ ê·œ ì½˜í…ì¸  ë° ê¸°ëŠ¥ ì—…ë°ì´íŠ¸
- [ ] ì»¤ë®¤ë‹ˆí‹° í™œë™ ë° ìƒí˜¸ì‘ìš©
- [ ] ê³ ê° í”¼ë“œë°± ìˆ˜ì§‘ ë° ê°œì„ 
- [ ] ì¥ê¸° ì°¸ì—¬ì íŠ¹ë³„ í˜œíƒ

---

## Kafka ìµœì¢… í†µí•© ë° ê²€ì¦ ê²°ê³¼ (2025-07-29)

- Kafka Producer/Consumerê°€ ì •ìƒì ìœ¼ë¡œ ì—°ê²° ë° ë©”ì‹œì§€ ì†¡ìˆ˜ì‹ ì„ ìˆ˜í–‰í•¨ì„ í™•ì¸
- ë¡œê·¸ì—ì„œ IPv6 í™˜ê²½ì—ì„œë„ ë¬¸ì œì—†ì´ ì—°ê²°ë¨ì„ ê²€ì¦
- ì‹¤ì œ ë©”ì‹œì§€ ì „ì†¡ ë° ì¢…ë£Œê¹Œì§€ ëª¨ë“  ë‹¨ê³„ì—ì„œ ì„±ê³µ ë¡œê·¸ í™•ì¸
- Casino-Club F2P ë°±ì—”ë“œì˜ ì‹¤ì‹œê°„ ì´ë²¤íŠ¸/ì•¡ì…˜ íŒŒì´í”„ë¼ì¸ì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•¨ì„ ìµœì¢… ê²€ì¦
- ë‹¤ìŒ ë‹¨ê³„: ì‹¤ì‹œê°„ í”¼ë“œë°±, ì•Œë¦¼, ë¶„ì„ ì´ë²¤íŠ¸ ë“± ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ì˜ í†µí•© ë° ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ ì—°ë™

```
INFO:kafka.conn:<BrokerConnection client_id=kafka-python-producer-1, node_id=bootstrap-0 host=localhost:9093 <connecting> [IPv6 ('::1', 9093, 0, 0)]>: connecting to localhost:9093 [('::1', 9093, 0, 0) IPv6]
INFO:kafka.conn:<BrokerConnection client_id=kafka-python-producer-1, node_id=bootstrap-0 host=localhost:9093 <checking_api_versions_recv> [IPv6 ('::1', 9093, 0, 0)]>: Broker version identified as 2.6
INFO:kafka.conn:<BrokerConnection client_id=kafka-python-producer-1, node_id=bootstrap-0 host=localhost:9093 <connected> [IPv6 ('::1', 9093, 0, 0)]>: Connection complete.
INFO:backend.app.core.kafka_client:âœ… Kafka Producer ì—°ê²° ì„±ê³µ
INFO:kafka.conn:<BrokerConnection client_id=kafka-python-producer-1, node_id=1 host=localhost:9093 <connecting> [IPv6 ('::1', 9093, 0, 0)]>: connecting to localhost:9093 [('::1', 9093, 0, 0) IPv6]
INFO:kafka.conn:<BrokerConnection client_id=kafka-python-producer-1, node_id=1 host=localhost:9093 <connected> [IPv6 ('::1', 9093, 0, 0)]>: Connection complete.
INFO:kafka.conn:<BrokerConnection client_id=kafka-python-producer-1, node_id=bootstrap-0 host=localhost:9093 <connected> [IPv6 ('::1', 9093, 0, 0)]>: Closing connection.
INFO:backend.app.core.kafka_client:âœ… ì‚¬ìš©ì ì•¡ì…˜ ì „ì†¡ ì„±ê³µ: FINAL_VALIDATION for test_user_final
 Kafka ë©”ì‹œì§€ ì „ì†¡ ì„±ê³µ!
INFO:kafka.producer.kafka:<KafkaProducer client_id=kafka-python-producer-1 transactional_id=None>: Closing the Kafka producer with 4294967.0 secs timeout.
INFO:kafka.conn:<BrokerConnection client_id=kafka-python-producer-1, node_id=1 host=localhost:9093 <connected> [IPv6 ('::1', 9093, 0, 0)]>: Closing connection.
INFO:backend.app.core.kafka_client:âœ… Kafka Producer ì—°ê²° ì¢…ë£Œ
```

---
**ê²°ë¡ :**
- Casino-Club F2P ë°±ì—”ë“œì˜ Kafka ì‹¤ì‹œê°„ ë©”ì‹œì§• ì¸í”„ë¼ê°€ ì™„ì „íˆ ê²€ì¦ë¨
- ì‹¤ì„œë¹„ìŠ¤ ì—°ë™ ë° í™•ì¥ì— ì í•©í•œ êµ¬ì¡°ë¡œ ì•ˆì •í™” ì™„ë£Œ


- [ ] í”¼ë“œë°± API (GET /api/feedback)
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ action_typeìœ¼ë¡œ í”¼ë“œë°± ìš”ì²­
  - ê²€ì¦ ê¸°ì¤€: ê°ì • ê¸°ë°˜ í”¼ë“œë°± ë©”ì‹œì§€ì™€ ì• ë‹ˆë©”ì´ì…˜ í‚¤ ë°˜í™˜
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ì•¡ì…˜ ìœ í˜•ë³„ í”¼ë“œë°± ë§¤í•‘
    - [ ] ë‹¤êµ­ì–´ ì§€ì› (í•„ìš”ì‹œ)
    - [ ] ê°ì • ê¸°ë°˜ ë©”ì‹œì§€ ë‹¤ì–‘ì„±
    - [ ] ì• ë‹ˆë©”ì´ì…˜ í‚¤ ë° íš¨ê³¼ ì„¤ì •
    - [ ] ë§¥ë½ ì¸ì‹ ë©”ì‹œì§€ (ì—°ì† ì•¡ì…˜)
    - [ ] A/B í…ŒìŠ¤íŠ¸ ì§€ì› (ë‹¤ì–‘í•œ í”¼ë“œë°± ìŠ¤íƒ€ì¼)

- [ ] ì™¸ë¶€ ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ ì—°ë™ (Premium Gem)
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ ê²°ì œ ìˆ˜ë‹¨/ê¸ˆì•¡ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê±°ë˜, ìƒŒë“œë°•ìŠ¤ ëª¨ë“œ ê²€ì¦
  - ê²€ì¦ ê¸°ì¤€: ê²°ì œ í”„ë¡œì„¸ìŠ¤ ì™„ë£Œìœ¨ 99.5%+, í‰ê·  ì²˜ë¦¬ ì‹œê°„ 3ì´ˆ ì´ë‚´
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ API í†µí•©
    - [ ] ë‹¤ì–‘í•œ ê²°ì œ ìˆ˜ë‹¨ ì§€ì› (ì‹ ìš©ì¹´ë“œ, ê°€ìƒê³„ì¢Œ, í˜ì´ì•±)
    - [ ] ê²°ì œ ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬
    - [ ] ì›¹í›…/ì½œë°± ì²˜ë¦¬
    - [ ] ê²°ì œ ìƒíƒœ ì¶”ì 
    - [ ] ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜

- [ ] AdultContentStageComponent (Teaser, ë¶€ë¶„ ê³µê°œ, ì „ì²´ ê³µê°œ)
  - ì²´í¬ ë°©ë²•: ê° ë‹¨ê³„ë³„ ì½˜í…ì¸  í‘œì‹œ í™•ì¸, í•´ê¸ˆ í”„ë¡œì„¸ìŠ¤ í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: ë‹¨ê³„ë³„ ì ì ˆí•œ ì½˜í…ì¸  í‘œì‹œ, í•´ê¸ˆ ì¡°ê±´ ëª…ì‹œ, ë‚˜ì´ ì œí•œ ì•ˆë‚´
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ë‚˜ì´ í™•ì¸ ëª¨ë‹¬
    - [ ] ë‹¨ê³„ë³„ ì½˜í…ì¸  ë¯¸ë¦¬ë³´ê¸°
    - [ ] í•´ê¸ˆ ì¡°ê±´ í‘œì‹œ (í† í°, ë“±ê¸‰)
    - [ ] í•´ê¸ˆ ë²„íŠ¼ ë° í™•ì¸ ëª¨ë‹¬
    - [ ] ì½˜í…ì¸  ì ê¸ˆ/í•´ì œ ìƒíƒœ í‘œì‹œ
    - [ ] ë²•ì  ê³ ì§€ì‚¬í•­ í‘œì‹œ

 [ ] ìœ ì € ì„¸ê·¸ë¨¼íŠ¸ ê³„ì‚°/ì—…ë°ì´íŠ¸ API (APScheduler)
  - ì²´í¬ ë°©ë²•: ë°°ì¹˜ ì‘ì—… ì‹¤í–‰ í›„ user_segments í…Œì´ë¸” ë³€ê²½ í™•ì¸
  - ê²€ì¦ ê¸°ì¤€: RFM ê·¸ë£¹ì´ ì‚¬ìš©ì í–‰ë™ì— ë”°ë¼ ì˜¬ë°”ë¥´ê²Œ ë¶„ë¥˜ë¨
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] RFM ë¶„ì„ ì•Œê³ ë¦¬ì¦˜ (Recency, Frequency, Monetary)
    - [ ] ì„¸ê·¸ë¨¼íŠ¸ ë¶„ë¥˜ ë¡œì§ (Whale, High Engaged, Medium, Low/At-risk)
    - [ ] ë°°ì¹˜ ì‘ì—… ìŠ¤ì¼€ì¤„ë§ (ì¼ì¼/ì£¼ê°„ ì‹¤í–‰)
    - [ ] ì„±ëŠ¥ ìµœì í™” (ëŒ€ìš©ëŸ‰ ì‚¬ìš©ì ì²˜ë¦¬)
    - [ ] ì„¸ê·¸ë¨¼íŠ¸ ë³€ê²½ íˆìŠ¤í† ë¦¬ ì¶”ì 
    - [ ] ì„¸ê·¸ë¨¼íŠ¸ ê¸°ë°˜ íƒ€ê²ŸíŒ… ë¡œì§

- [ ] ê°œì¸í™” ì¶”ì²œ API (GET /recommend/personalized)
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ ì„¸ê·¸ë¨¼íŠ¸/ë¦¬ìŠ¤í¬ í”„ë¡œí•„ì„ ê°€ì§„ ì‚¬ìš©ìë¡œ ìš”ì²­
  - ê²€ì¦ ê¸°ì¤€: ì„¸ê·¸ë¨¼íŠ¸ë³„ ì°¨ë³„í™”ëœ ì¶”ì²œ ê²°ê³¼ ë°˜í™˜
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ì„¸ê·¸ë¨¼íŠ¸ë³„ ì¶”ì²œ ê·œì¹™ ì—”ì§„
    - [ ] ì‚¬ì´ë²„ í† í° ê¸°ë°˜ ë¯¸ì…˜ ì¶”ì²œ
    - [ ] ë³´ìƒ ì œì•ˆ ì•Œê³ ë¦¬ì¦˜
    - [ ] ë¦¬ìŠ¤í¬ í”„ë¡œí•„ ê¸°ë°˜ ê°œì¸í™”
    - [ ] ì¶”ì²œ ê²°ê³¼ ë­í‚¹ ì‹œìŠ¤í…œ
    - [ ] ì¶”ì²œ íš¨ê³¼ ì¶”ì  ë° í•™ìŠµ

- [ ] ì‹¬ë¦¬ ì¸¡ì • í€´ì¦ˆ ì œì¶œ/ë¶„ì„ API (POST /api/quiz/submit)
  - ì²´í¬ ë°©ë²•: ë‹¤ì–‘í•œ ë‹µë³€ íŒ¨í„´ìœ¼ë¡œ í€´ì¦ˆ ì œì¶œ
  - ê²€ì¦ ê¸°ì¤€: ë¦¬ìŠ¤í¬ ì ìˆ˜ ê³„ì‚° ë° í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ì •í™•ì„±
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ë‹¤ë‹¨ê³„ í€´ì¦ˆ í”Œë¡œìš°
    - [ ] ì‹¬ë¦¬ ì¸¡ì • ëª¨ë¸ (ìœ„í—˜ ì„±í–¥, ë³´ìƒ ë°˜ì‘ì„±)
    - [ ] ì ìˆ˜ ê³„ì‚° ì•Œê³ ë¦¬ì¦˜
    - [ ] ê²°ê³¼ í•´ì„ ë° ë¶„ë¥˜
    - [ ] í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ë¡œì§
    - [ ] í€´ì¦ˆ ê²°ê³¼ ê¸°ë°˜ ê°œì¸í™” ì ìš©



 [ ] ì„±ì¸ ì½˜í…ì¸  ë‹¨ê³„ë³„ í•´ê¸ˆ API (POST /api/unlock)
  - ì²´í¬ ë°©ë²•: ë‹¨ê³„ë³„ í•´ê¸ˆ ìš”ì²­, ë‚˜ì´ ë¯¸í™•ì¸ ì‚¬ìš©ì ì ‘ê·¼ ì‹œë„
  - ê²€ì¦ ê¸°ì¤€: ë‹¨ê³„ë³„ ì ‘ê·¼ ì œì–´, í† í°/í¬ì¸íŠ¸ ì°¨ê° ì •í™•íˆ ì²˜ë¦¬
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ë‚˜ì´ í™•ì¸ ì‹œìŠ¤í…œ ì—°ë™
    - [ ] ë‹¨ê³„ë³„ ì½˜í…ì¸  ì •ì˜ (Teaser, Partial, Full)
    - [ ] í•´ê¸ˆ ì¡°ê±´ ê²€ì¦ (ë“±ê¸‰, í† í°, í¬ì¸íŠ¸)
    - [ ] ì½˜í…ì¸  ì ‘ê·¼ ê¶Œí•œ ê´€ë¦¬
    - [ ] í•´ê¸ˆ íˆìŠ¤í† ë¦¬ ì¶”ì 
    - [ ] ë²•ì  ì»´í”Œë¼ì´ì–¸ìŠ¤ ì²´í¬
  - ê²€ì¦ ê¸°ì¤€: ë‹¨ê³„ë³„ ì ‘ê·¼ ì œì–´, í† í°/í¬ì¸íŠ¸ ì°¨ê° ì •í™•íˆ ì²˜ë¦¬

- [ ] VIP ë“±ê¸‰ ì—…ê·¸ë ˆì´ë“œ API
  - ì²´í¬ ë°©ë²•: ë“±ê¸‰ë³„ ì—…ê·¸ë ˆì´ë“œ ìš”ê±´ ì¶©ì¡±/ë¯¸ì¶©ì¡± ì‹œë‚˜ë¦¬ì˜¤
  - ê²€ì¦ ê¸°ì¤€: ë“±ê¸‰ì— ë”°ë¥¸ í˜œíƒ ì ìš©, ì—…ê·¸ë ˆì´ë“œ íˆìŠ¤í† ë¦¬ ê¸°ë¡
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ë“±ê¸‰ë³„ ìš”êµ¬ ì¡°ê±´ ì •ì˜ (ì†Œë¹„ ê¸ˆì•¡, í™œë™ ì ìˆ˜)
    - [ ] ìë™/ìˆ˜ë™ ì—…ê·¸ë ˆì´ë“œ ë¡œì§
    - [ ] ë“±ê¸‰ë³„ í˜œíƒ ì„¤ì • (í• ì¸ìœ¨, ì „ìš© ì½˜í…ì¸ )
    - [ ] ë“±ê¸‰ ë‹¤ìš´ê·¸ë ˆì´ë“œ ì •ì±…
    - [ ] VIP ì „ìš© ê¸°ëŠ¥ ì ‘ê·¼ ì œì–´
    - [ ] ë“±ê¸‰ ë³€ê²½ ì•Œë¦¼ ì‹œìŠ¤í…œ---

 [ ] ì‹¬ë¦¬ ì¸¡ì • í€´ì¦ˆ UI (ë‹¤ë‹¨ê³„ ì§ˆë¬¸)
  - ì²´í¬ ë°©ë²•: ì „ì²´ í€´ì¦ˆ í”Œë¡œìš° ì™„ì£¼, ë‹¤ì–‘í•œ ë‹µë³€ íŒ¨í„´ í…ŒìŠ¤íŠ¸
  - ê²€ì¦ ê¸°ì¤€: ì§„í–‰ë¥  í‘œì‹œ, ê²°ê³¼ í˜ì´ì§€ í‘œì‹œ, ê²°ê³¼ ê¸°ë°˜ ê°œì¸í™” ì ìš©
  - ì²´í¬ ëŒ€ìƒ:
    - [ ] ë‹¨ê³„ë³„ ì§ˆë¬¸ í‘œì‹œ
    - [ ] ì§„í–‰ë¥  ë°” ë° í˜ì´ì§€ë„¤ì´ì…˜
    - [ ] ë‹µë³€ ì„ íƒ ì¸í„°í˜ì´ìŠ¤
    - [ ] ê²°ê³¼ ë¶„ì„ ë° ì‹œê°í™”
    - [ ] í€´ì¦ˆ ì¬ì‹œë„ ì˜µì…˜
    - [ ] ê²°ê³¼ ê³µìœ  ê¸°ëŠ¥




## ğŸ® ê²Œì„ API ì—°ë™ ë° í”„ë¡œí•„ í†µí•© ê°€ì´ë“œ (ìš°ì„ ìˆœìœ„ 5)

### ê°œìš”
í”„ë¡œí•„ í˜ì´ì§€ì—ì„œ ì‚¬ìš©ìì˜ ëª¨ë“  ê²Œì„ í™œë™, í†µê³„, ë³´ìƒ ë‚´ì—­ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í†µí•© ì‹œìŠ¤í…œ êµ¬ì¶•

### 1. ê²Œì„ API ì—”ë“œí¬ì¸íŠ¸ ì„¤ê³„

#### 1.1 ê²Œì„ í†µê³„ ì¡°íšŒ API
```python
# /api/games/stats/{user_id}
@router.get("/games/stats/{user_id}")
async def get_game_stats(
    user_id: int,
    game_type: Optional[str] = None,  # 'slot', 'poker', 'blackjack', 'all'
    period: str = "week",  # 'day', 'week', 'month', 'all'
    db: Session = Depends(get_db)
) -> GameStatsResponse:
    """
    ì‚¬ìš©ì ê²Œì„ í†µê³„ ì¡°íšŒ
    - ì´ ê²Œì„ ìˆ˜, ìŠ¹ë¥ , ìˆ˜ìµë¥ 
    - ì„ í˜¸ ê²Œì„, í”Œë ˆì´ ì‹œê°„
    - ìµœê³  ê¸°ë¡, ì—°ìŠ¹ ê¸°ë¡
    """
```

#### 1.2 ì‹¤ì‹œê°„ ê²Œì„ ì„¸ì…˜ API
```python
# /api/games/session/{user_id}/current
@router.get("/games/session/{user_id}/current")
async def get_current_game_session(user_id: int):
    """í˜„ì¬ ì§„í–‰ì¤‘ì¸ ê²Œì„ ì„¸ì…˜ ì •ë³´"""

# /api/games/session/start
@router.post("/games/session/start")
async def start_game_session(game_data: GameSessionStart):
    """ê²Œì„ ì„¸ì…˜ ì‹œì‘"""

# /api/games/session/end
@router.post("/games/session/end")
async def end_game_session(session_data: GameSessionEnd):
    """ê²Œì„ ì„¸ì…˜ ì¢…ë£Œ ë° ê²°ê³¼ ì €ì¥"""
```

#### 1.3 ë³´ìƒ ë° ì—…ì  API
```python
# /api/games/achievements/{user_id}
@router.get("/games/achievements/{user_id}")
async def get_user_achievements(user_id: int):
    """ì‚¬ìš©ì ì—…ì  ë° ë³´ìƒ ë‚´ì—­"""

# /api/games/leaderboard
@router.get("/games/leaderboard")
async def get_leaderboard(
    game_type: str,
    period: str = "week",
    limit: int = 10
):
    """ê²Œì„ë³„ ë¦¬ë”ë³´ë“œ"""
```

### 2. í”„ë¡ íŠ¸ì—”ë“œ í†µí•© ì»´í¬ë„ŒíŠ¸

#### 2.1 GameStatsWidget ì»´í¬ë„ŒíŠ¸
```tsx
// components/profile/GameStatsWidget.tsx
interface GameStatsWidgetProps {
  userId: number;
  gameType?: string;
}

export function GameStatsWidget({ userId, gameType }: GameStatsWidgetProps) {
  const [stats, setStats] = useState<GameStats | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const fetchGameStats = async () => {
      try {
        const response = await fetch(`/api/games/stats/${userId}?game_type=${gameType}`);
        const data = await response.json();
        setStats(data);
      } catch (error) {
        console.error('ê²Œì„ í†µê³„ ë¡œë“œ ì‹¤íŒ¨:', error);
      } finally {
        setLoading(false);
      }
    };

    fetchGameStats();
    
    // ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ WebSocket ì—°ê²°
    const ws = new WebSocket(`ws://localhost:8000/ws/game-stats/${userId}`);
    ws.onmessage = (event) => {
      const updatedStats = JSON.parse(event.data);
      setStats(updatedStats);
    };

    return () => ws.close();
  }, [userId, gameType]);

  return (
    <div className="game-stats-widget">
      {/* ê²Œì„ í†µê³„ UI */}
    </div>
  );
}
```

#### 2.2 ì‹¤ì‹œê°„ ê²Œì„ í˜„í™© ì»´í¬ë„ŒíŠ¸
```tsx
// components/profile/LiveGameStatus.tsx
export function LiveGameStatus({ userId }: { userId: number }) {
  const [currentSession, setCurrentSession] = useState<GameSession | null>(null);

  return (
    <div className="live-game-status">
      {currentSession ? (
        <div className="bg-green-500/20 border border-green-500/30 rounded-xl p-4">
          <div className="flex items-center gap-2">
            <div className="w-3 h-3 bg-green-500 rounded-full animate-pulse" />
            <span className="text-green-400 font-semibold">ê²Œì„ ì§„í–‰ì¤‘</span>
          </div>
          <div className="mt-2 text-white">
            <div>ê²Œì„: {currentSession.gameType}</div>
            <div>ê²½ê³¼ ì‹œê°„: {formatDuration(currentSession.duration)}</div>
            <div>í˜„ì¬ ë² íŒ…: {currentSession.currentBet.toLocaleString()} í† í°</div>
          </div>
        </div>
      ) : (
        <div className="bg-gray-600/20 border border-gray-500/30 rounded-xl p-4">
          <span className="text-gray-400">í˜„ì¬ ê²Œì„ ì—†ìŒ</span>
        </div>
      )}
    </div>
  );
}
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ í™•ì¥

#### 3.1 ê²Œì„ ì„¸ì…˜ í…Œì´ë¸”
```sql
CREATE TABLE game_sessions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id INTEGER NOT NULL REFERENCES users(id),
    game_type VARCHAR(50) NOT NULL,
    game_variant VARCHAR(50), -- ê²Œì„ ë³€í˜• (ì˜ˆ: texas_holdem, european_roulette)
    start_time TIMESTAMP DEFAULT NOW(),
    end_time TIMESTAMP,
    initial_balance INTEGER NOT NULL,
    final_balance INTEGER,
    total_bet INTEGER DEFAULT 0,
    total_win INTEGER DEFAULT 0,
    net_result INTEGER DEFAULT 0,
    max_bet INTEGER DEFAULT 0,
    hand_count INTEGER DEFAULT 0, -- ì´ í•¸ë“œ/ìŠ¤í•€ ìˆ˜
    win_count INTEGER DEFAULT 0,
    session_data JSONB, -- ê²Œì„ë³„ ìƒì„¸ ë°ì´í„°
    status VARCHAR(20) DEFAULT 'active', -- active, completed, disconnected
    ip_address INET,
    user_agent TEXT
);

CREATE INDEX idx_game_sessions_user_time ON game_sessions(user_id, start_time);
CREATE INDEX idx_game_sessions_type ON game_sessions(game_type, start_time);
```

#### 3.2 ê²Œì„ í•¸ë“œ/ë¼ìš´ë“œ ìƒì„¸ í…Œì´ë¸”
```sql
CREATE TABLE game_hands (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    session_id UUID NOT NULL REFERENCES game_sessions(id),
    hand_number INTEGER NOT NULL,
    game_type VARCHAR(50) NOT NULL,
    bet_amount INTEGER NOT NULL,
    win_amount INTEGER DEFAULT 0,
    hand_data JSONB, -- ì¹´ë“œ, ì£¼ì‚¬ìœ„, ìŠ¬ë¡¯ ê²°ê³¼ ë“±
    hand_result VARCHAR(50), -- win, lose, push, bonus
    timestamp TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_game_hands_session ON game_hands(session_id, hand_number);
```

#### 3.3 ì—…ì  ë° ë°°ì§€ í…Œì´ë¸”
```sql
CREATE TABLE achievements (
    id SERIAL PRIMARY KEY,
    achievement_key VARCHAR(100) UNIQUE NOT NULL,
    name VARCHAR(200) NOT NULL,
    description TEXT,
    badge_icon VARCHAR(100),
    badge_color VARCHAR(50),
    requirements JSONB, -- ë‹¬ì„± ì¡°ê±´
    reward_tokens INTEGER DEFAULT 0,
    reward_items JSONB,
    is_active BOOLEAN DEFAULT true
);

CREATE TABLE user_achievements (
    id SERIAL PRIMARY KEY,
    user_id INTEGER NOT NULL REFERENCES users(id),
    achievement_id INTEGER NOT NULL REFERENCES achievements(id),
    achieved_at TIMESTAMP DEFAULT NOW(),
    progress_data JSONB, -- ë‹¬ì„± ê³¼ì • ë°ì´í„°
    
    UNIQUE(user_id, achievement_id)
);
```

### 4. ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ (WebSocket)

#### 4.1 WebSocket ì—°ê²° ê´€ë¦¬
```python
# websocket_manager.py
class GameStatsWebSocketManager:
    def __init__(self):
        self.active_connections: Dict[int, List[WebSocket]] = {}

    async def connect(self, websocket: WebSocket, user_id: int):
        await websocket.accept()
        if user_id not in self.active_connections:
            self.active_connections[user_id] = []
        self.active_connections[user_id].append(websocket)

    async def disconnect(self, websocket: WebSocket, user_id: int):
        if user_id in self.active_connections:
            self.active_connections[user_id].remove(websocket)

    async def send_stats_update(self, user_id: int, stats_data: dict):
        if user_id in self.active_connections:
            for connection in self.active_connections[user_id]:
                try:
                    await connection.send_json(stats_data)
                except ConnectionClosedOK:
                    await self.disconnect(connection, user_id)

# WebSocket ì—”ë“œí¬ì¸íŠ¸
@app.websocket("/ws/game-stats/{user_id}")
async def websocket_endpoint(websocket: WebSocket, user_id: int):
    await manager.connect(websocket, user_id)
    try:
        while True:
            await websocket.receive_text()
    except WebSocketDisconnect:
        await manager.disconnect(websocket, user_id)
```

### 5. í”„ë¡œí•„ í˜ì´ì§€ í†µí•©

#### 5.1 ProfileContainer í™•ì¥
```tsx
// ProfileContainer.tsx ìˆ˜ì •
export default function ProfileContainer() {
  const { user } = useUser();
  const [gameStats, setGameStats] = useState<GameStats | null>(null);
  const [achievements, setAchievements] = useState<Achievement[]>([]);

  return (
    <div className="profile-container">
      <ProfileHeader user={user} />
      <ProfileStats user={user} gameStats={gameStats} />
      
      {/* ìƒˆë¡œìš´ ê²Œì„ í†µê³„ ì„¹ì…˜ */}
      <GameStatsWidget userId={user.id} />
      <LiveGameStatus userId={user.id} />
      <AchievementsPanel achievements={achievements} />
      
      <MissionCards missions={missions} />
    </div>
  );
}
```

### 6. êµ¬í˜„ ìš°ì„ ìˆœìœ„

#### Phase 1: ê¸°ë³¸ ê²Œì„ í†µê³„ (1-2ì£¼)
- [ ] ê²Œì„ ì„¸ì…˜ í…Œì´ë¸” ìƒì„±
- [ ] ê¸°ë³¸ ê²Œì„ í†µê³„ API êµ¬í˜„
- [ ] ProfileStatsì— ê²Œì„ ë°ì´í„° ì—°ë™
- [ ] ì‹¤ì‹œê°„ í† í° ì”ì•¡ ì—…ë°ì´íŠ¸

#### Phase 2: ìƒì„¸ ê²Œì„ ë°ì´í„° (2-3ì£¼)
- [ ] ê²Œì„ë³„ ìƒì„¸ í†µê³„ êµ¬í˜„
- [ ] ê²Œì„ í•¸ë“œ ë°ì´í„° ì €ì¥
- [ ] ìŠ¹ë¥ , ìˆ˜ìµë¥  ê³„ì‚° ë¡œì§
- [ ] ê²Œì„ íˆìŠ¤í† ë¦¬ ì¡°íšŒ ê¸°ëŠ¥

#### Phase 3: ì‹¤ì‹œê°„ ê¸°ëŠ¥ (3-4ì£¼)
- [ ] WebSocket ì—°ë™
- [ ] ì‹¤ì‹œê°„ ê²Œì„ ì„¸ì…˜ ëª¨ë‹ˆí„°ë§
- [ ] ë¼ì´ë¸Œ í†µê³„ ì—…ë°ì´íŠ¸
- [ ] í‘¸ì‹œ ì•Œë¦¼ ì—°ë™

#### Phase 4: ì—…ì  ë° ë³´ìƒ (4-5ì£¼)
- [ ] ì—…ì  ì‹œìŠ¤í…œ êµ¬í˜„
- [ ] ë°°ì§€ ë° ë³´ìƒ UI
- [ ] ë¦¬ë”ë³´ë“œ ê¸°ëŠ¥
- [ ] ì†Œì…œ ê¸°ëŠ¥ (ì¹œêµ¬, ê³µìœ )

### 7. í…ŒìŠ¤íŠ¸ ì „ëµ

#### 7.1 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
```python
# test_game_stats.py
def test_calculate_win_rate():
    """ìŠ¹ë¥  ê³„ì‚° ë¡œì§ í…ŒìŠ¤íŠ¸"""
    
def test_session_creation():
    """ê²Œì„ ì„¸ì…˜ ìƒì„± í…ŒìŠ¤íŠ¸"""
    
def test_achievement_unlock():
    """ì—…ì  í•´ê¸ˆ ì¡°ê±´ í…ŒìŠ¤íŠ¸"""
```

#### 7.2 í†µí•© í…ŒìŠ¤íŠ¸
```python
# test_game_integration.py
def test_game_to_profile_integration():
    """ê²Œì„ APIì™€ í”„ë¡œí•„ ì—°ë™ í…ŒìŠ¤íŠ¸"""
    
def test_websocket_real_time_updates():
    """WebSocket ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ í…ŒìŠ¤íŠ¸"""
```

### 8. ëª¨ë‹ˆí„°ë§ ë° ì„±ëŠ¥

#### 8.1 ì„±ëŠ¥ ë©”íŠ¸ë¦­
- API ì‘ë‹µ ì‹œê°„ (< 200ms ëª©í‘œ)
- WebSocket ì—°ê²° ì•ˆì •ì„±
- ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ìµœì í™”
- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì§€ì—°ì‹œê°„

#### 8.2 ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
- ê²Œì„ ì„¸ì…˜ ìˆ˜ (ì‹¤ì‹œê°„)
- í‰ê·  í”Œë ˆì´ ì‹œê°„
- ê²Œì„ë³„ ì¸ê¸°ë„
- ì‚¬ìš©ì ì°¸ì—¬ë„ ì§€í‘œ

ì´ ê°€ì´ë“œë¥¼ í†µí•´ í”„ë¡œí•„ í˜ì´ì§€ê°€ ë‹¨ìˆœí•œ ì •ë³´ í‘œì‹œë¥¼ ë„˜ì–´ ì‚¬ìš©ìì˜ ëª¨ë“  ê²Œì„ í™œë™ì„ í†µí•© ê´€ë¦¬í•˜ëŠ” í—ˆë¸Œê°€ ë˜ë„ë¡ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## [2025-08-11] ì•ˆì •í™” ì—…ë°ì´íŠ¸: Kafka ë¼ìš´ë“œíŠ¸ë¦½, CI ë§ˆì´ê·¸ë ˆì´ì…˜ ê²€ì¦, í…ŒìŠ¤íŠ¸ í•˜ì´ì§„

ë³€ê²½ ìš”ì•½
- Kafka ë¼ìš´ë“œíŠ¸ë¦½ í…ŒìŠ¤íŠ¸ë¥¼ debug/peek ì—”ë“œí¬ì¸íŠ¸ ê¸°ë°˜ìœ¼ë¡œ ì „í™˜í•´ ë¹„ê²°ì •ì„± ì œê±°. in-process ë²„í¼ ì˜ì¡´ ì—†ì´ ë¸Œë¡œì»¤ì—ì„œ ì§ì ‘ ì½ì–´ ë‹¨ì •. ëŒ€ìƒ íŒŒì¼: `app/tests/test_kafka_roundtrip.py`.
- CI ì›Œí¬í”Œë¡œìš°ì— Alembic history ì¶œë ¥ê³¼ ëª…ì‹œì  downgrade(-1 í—ˆìš©)/upgrade head ë‹¨ê³„ë¥¼ ì¶”ê°€í•´ ë§ˆì´ê·¸ë ˆì´ì…˜ ì•ˆì „ì„± í™•ë³´. ëŒ€ìƒ íŒŒì¼: `.github/workflows/ci.yml`.
- CI í•„ìˆ˜ ê²Œì´íŠ¸ë¥¼ ìµœì†Œ ê·¸ë¦° ê²½ë¡œ í…ŒìŠ¤íŠ¸ë¡œ í•œì •: `app/tests/test_user_journey.py`, `app/tests/test_kafka_roundtrip.py`.
- í…ŒìŠ¤íŠ¸ í•˜ì´ì§„: pytest.iniì—ì„œ `--ignore=tests` ìœ ì§€ë¡œ ì¤‘ë³µ ê²½ë¡œ ìˆ˜ì§‘ ì°¨ë‹¨. ë ˆê±°ì‹œ `tests/`ëŠ” ì ì§„ ë³´ìˆ˜ í›„ ì¬í™œì„±í™” ì˜ˆì •.

ê²€ì¦ ê²°ê³¼
- ì»¨í…Œì´ë„ˆ ë‚´ë¶€:
  - `alembic heads` â†’ ë‹¨ì¼ head ìœ ì§€(20250810_align_users)
  - `pytest -q app/tests/test_user_journey.py` â†’ PASS
  - `pytest -q app/tests/test_kafka_roundtrip.py` â†’ debug/peek ê¸°ë°˜ ë¼ìš´ë“œíŠ¸ë¦½ PASS (ë¸Œë¡œì»¤ í™œì„± ì‹œ)
- OpenAPI ì¬ìˆ˜ì¶œ ì™„ë£Œ (`cc-webapp/backend/current_openapi.json`).

ë‹¤ìŒ ë‹¨ê³„
- Kafka ì „ìš© ê²©ë¦¬ í† í”½(KAFKA_TEST_TOPIC=cc_test_ci)ë¡œ CI ê°„ ê°„ì„­ ë°©ì§€ ê°•í™” ë° í† í”½ ìë™ìƒì„± ìƒíƒœ í™•ì¸.
- ë ˆê±°ì‹œ `tests/` ê²½ë¡œì˜ import/ìŠ¤í‚¤ë§ˆ ë¶ˆì¼ì¹˜ ìˆ˜ì • í›„ ë§ˆì´ê·¸ë ˆì´ì…˜, games, auth í…ŒìŠ¤íŠ¸ ì ì§„ì  ì¬í™œì„±í™”.
- Alembic explicit downgrade ëŒ€ìƒ ë¦¬ë¹„ì „ì„ ê³ ì •(merge í† í´ë¡œì§€ ê³ ë ¤)í•˜ê³  ì´ë ¥ ê·¸ë˜í”„ ìë™ ì ê²€ ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€.

---

## [2025-08-11] ëŸ°ë¶ ì¬ê²€ì¦ ë° Alembic ìŠ¤í‚¤ë§ˆ ì¸ì‹ ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©

ë³€ê²½ ìš”ì•½
- CI í…ŒìŠ¤íŠ¸ ìŠ¤íƒ ê¸°ë™ ì‹œ ZooKeeper/Kafka ì„œë¹„ìŠ¤ë¥¼ í•¨ê»˜ ì‹œì‘í•˜ë„ë¡ ì—…ë°ì´íŠ¸(.github/workflows/ci.yml)í•´ ì¹´í”„ì¹´ ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ì•ˆì •í™”.
- Alembic ë¦¬ë¹„ì „ 20250811_core_ixë¥¼ ìŠ¤í‚¤ë§ˆ ì¸ì‹(schema-aware) ë°©ì‹ìœ¼ë¡œ ìˆ˜ì •. ì¡´ì¬í•˜ëŠ” í…Œì´ë¸”/ì»¬ëŸ¼ë§Œ ì¸ë±ìŠ¤Â·ì œì•½ì„ ìƒì„±í•˜ê³ , user_actions.created_at/timestamp ë“± í™˜ê²½ì°¨ë¥¼ ì•ˆì „ ì²˜ë¦¬. user_game_stats/game_stats ì–‘ì í˜¸í™˜ ìœ ë‹ˆí¬ ì œì•½ ìƒì„±.
- ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ê¸°ì¤€ ëŸ°ë¶ ìˆ˜í–‰: ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©, OpenAPI ì¬ìˆ˜ì¶œ, ìŠ¤ëª¨í¬/ì €ë‹ˆ í…ŒìŠ¤íŠ¸ ì‹¤í–‰.

ê²€ì¦ ê²°ê³¼
- ì»¨í…Œì´ë„ˆ ìƒíƒœ: postgres/redis/zookeeper/kafka/backend ëª¨ë‘ Up(healthy). í…ŒìŠ¤íŠ¸ìš© zookeeper_test/kafka_testë„ ê¸°ë™ í™•ì¸.
- Alembic: heads â†’ 20250811_core_ix ë‹¨ì¼ ìœ ì§€. alembic upgrade head ì„±ê³µ(ìŠ¤í‚¤ë§ˆ ì¸ì‹ ë¡œì§ìœ¼ë¡œ ì»¬ëŸ¼ ë¶€ì¬ ì˜¤ë¥˜ í•´ì†Œ).
- OpenAPI: current_openapi.json ì¬ìƒì„± ì„±ê³µ.
- í…ŒìŠ¤íŠ¸: app/tests/test_smoke_health.py, app/tests/test_user_journey.py í†µê³¼.

ë‹¤ìŒ ë‹¨ê³„
- CIì—ì„œ Kafka ë¼ìš´ë“œíŠ¸ë¦½ í…ŒìŠ¤íŠ¸ë¥¼ í”Œë˜ê·¸(KAFKA_ENABLED)ë¡œ ì˜µì…˜í™”í•˜ì—¬ í™˜ê²½ ì˜ì¡´ì„± ì™„í™”, ê²©ë¦¬ í† í”½(KAFKA_TEST_TOPIC) ê³ ì • ìœ ì§€.
- Pydantic v2 ê²½ê³  ì œê±°(ConfigDict ì „í™˜, protected_namespaces ì¶©ëŒ í•´ì†Œ).
- íŠ¸ëœì­ì…˜/ACID ë²”ìœ„ í…ŒìŠ¤íŠ¸ í™•ì¥ ë° ë°±ì—…/ë³µêµ¬ ìë™ ê²€ì¦ ì¶”ê°€.