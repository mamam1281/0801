# ë¸Œë¼ìš°ì € ê²€ì¦ìš© ë¡œê·¸ ëª¨ë‹ˆí„°ë§ ê°€ì´ë“œ

## ğŸ¯ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ ì‹œ í™•ì¸í•  ë¡œê·¸

### 1. ìŠ¬ë¡¯ ê²Œì„ ì­íŒŸ ì¬í˜„ í…ŒìŠ¤íŠ¸

#### A. ë°±ì—”ë“œ ë¡œê·¸ (í„°ë¯¸ë„)
```powershell
# ì‹¤ì‹œê°„ ë°±ì—”ë“œ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
docker logs cc_backend --tail 50 -f

# ìŠ¬ë¡¯ ê´€ë ¨ ë¡œê·¸ë§Œ í•„í„°ë§
docker logs cc_backend --tail 100 | findstr -i "slot\|spin\|jackpot"
```

**í™•ì¸í•  ë‚´ìš©:**
- `ğŸ° ìŠ¬ë¡¯ê²Œì„` ë¡œê·¸ ë©”ì‹œì§€
- `POST /api/games/slot/spin` API í˜¸ì¶œ
- `bet_amount`, `win_amount`, `is_jackpot` ê°’
- `reels` ê²°ê³¼ (7ï¸âƒ£7ï¸âƒ£7ï¸âƒ£ì¸ì§€ í™•ì¸)
- ì”ì•¡ ì—…ë°ì´íŠ¸ ë¡œê·¸

#### B. í”„ë¡ íŠ¸ì—”ë“œ ì½˜ì†” (F12 â†’ Console)
```javascript
// í™•ì¸í•  ë¡œê·¸ ë©”ì‹œì§€ë“¤
[unifiedApi] POST http://localhost:8000/api/games/slot/spin
[RealtimeSync] Received message: game_event
[RealtimeSync] Game event received: {subtype: "slot_spin", jackpot: true, win: 500}
[Toast] ğŸ° JACKPOT! ì­íŒŸì„ í„°ëœ¨ë ¸ìŠµë‹ˆë‹¤!
[GlobalSync] Balance updated: 749 â†’ 1239
```

#### C. ë„¤íŠ¸ì›Œí¬ íƒ­ (F12 â†’ Network)
```
POST /api/games/slot/spin
- Request: {"bet_amount": 10}
- Response: {"success": true, "is_jackpot": true, "win_amount": 500, "reels": [["7ï¸âƒ£","7ï¸âƒ£","7ï¸âƒ£"]], "balance": 1239}

GET /api/users/balance (ìë™ í˜¸ì¶œ)
- Response: {"cyber_token_balance": 1239, "user_id": 1, "nickname": "ì–´ë“œë¯¼"}
```

### 2. ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ ì „ì²´ í”Œë¡œìš° í™•ì¸

#### A. ë°±ì—”ë“œ ë¡œê·¸ (í„°ë¯¸ë„)
```powershell
# ì´ë²¤íŠ¸ ê´€ë ¨ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
docker logs cc_backend --tail 100 | findstr -i "event\|join\|claim"
```

**í™•ì¸í•  ë‚´ìš©:**
- `GET /api/events/` (ì´ë²¤íŠ¸ ëª©ë¡)
- `POST /api/events/join` (ì´ë²¤íŠ¸ ì°¸ì—¬)
- `GET /api/events/my-events` (ì°¸ì—¬ ìƒíƒœ - 422 ì—ëŸ¬ í™•ì¸)
- `POST /api/events/claim/{id}` (ë¦¬ì›Œë“œ í´ë ˆì„)

#### B. í”„ë¡ íŠ¸ì—”ë“œ ì½˜ì†”
```javascript
[unifiedApi] GET http://localhost:8000/api/events/
[unifiedApi] POST http://localhost:8000/api/events/join
[RealtimeSync] Received message: event_progress
```

#### C. ë„¤íŠ¸ì›Œí¬ íƒ­
```
GET /api/events/
- Response: [{"id": 1, "title": "Welcome Bonus", "active": true}]

POST /api/events/join
- Request: {"event_id": 1}
- Response: {"success": true, "message": "ì´ë²¤íŠ¸ì— ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤"}

GET /api/events/my-events (422 ì—ëŸ¬ ì˜ˆìƒ)
- Status: 422 Unprocessable Entity
```

### 3. í˜ì´ì§€ ì´ë™ì‹œ í† í° ìœ ì§€ ê²€ì¦

#### A. ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ (F12 â†’ Application/Storage)
```
Local Storage â†’ http://localhost:3000
- accessToken: "eyJhbGciOiJIUzI1NiIs..."
- refreshToken: "eyJhbGciOiJIUzI1NiIs..."
- user: {"id": 1, "nickname": "ì–´ë“œë¯¼", ...}

Session Storage â†’ http://localhost:3000
- (í† í° ê´€ë ¨ ë°ì´í„° í™•ì¸)
```

#### B. í”„ë¡ íŠ¸ì—”ë“œ ì½˜ì†” (í˜ì´ì§€ ì´ë™ ì‹œ)
```javascript
// ì •ìƒì ì¸ ê²½ìš°
[Auth] Token found in localStorage
[Auth] User authenticated: {id: 1, nickname: "ì–´ë“œë¯¼"}

// ë¬¸ì œê°€ ìˆëŠ” ê²½ìš°
[Auth] Token not found or expired
[Auth] Redirecting to login
```

#### C. ë„¤íŠ¸ì›Œí¬ íƒ­ (í˜ì´ì§€ ì´ë™ ì‹œ)
```
GET /api/auth/me
- Headers: Authorization: Bearer eyJhbGciOiJIUzI1NiIs...
- Response: {"id": 1, "nickname": "ì–´ë“œë¯¼", "is_admin": true}

// í† í° ë¬¸ì œê°€ ìˆëŠ” ê²½ìš°
- Status: 401 Unauthorized
- Response: {"detail": "Could not validate credentials"}
```

## ğŸ”§ ê²€ì¦ ì ˆì°¨

### 1ë‹¨ê³„: ìŠ¬ë¡¯ ê²Œì„ í…ŒìŠ¤íŠ¸
1. **ì¤€ë¹„**: ë°±ì—”ë“œ ë¡œê·¸ ëª¨ë‹ˆí„°ë§ ì‹œì‘
   ```powershell
   docker logs cc_backend --tail 50 -f
   ```

2. **ë¸Œë¼ìš°ì € ì ‘ì†**: http://localhost:3000
3. **ë¡œê·¸ì¸**: admin/123456
4. **ìŠ¬ë¡¯ ê²Œì„ ì ‘ì†**: Games â†’ Slot Machine
5. **F12 ê°œë°œì ë„êµ¬ ì—´ê¸°** (Console + Network íƒ­)
6. **ìŠ¬ë¡¯ ìŠ¤í•€**: ì—¬ëŸ¬ ë²ˆ ìŠ¤í•€í•´ì„œ ì­íŒŸ í™•ì¸
7. **ë¡œê·¸ í™•ì¸**: ìœ„ì˜ A, B, C í•­ëª©ë“¤ ëª¨ë‘ í™•ì¸

### 2ë‹¨ê³„: ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
1. **ì´ë²¤íŠ¸ í˜ì´ì§€ ì ‘ì†**: Events ë©”ë‰´
2. **ì´ë²¤íŠ¸ ì°¸ì—¬**: Welcome Bonus ì´ë²¤íŠ¸ ì°¸ì—¬
3. **ì§„í–‰ë„ í™•ì¸**: ì´ë²¤íŠ¸ ì§„í–‰ ìƒíƒœ í™•ì¸
4. **ë¦¬ì›Œë“œ í´ë ˆì„**: ì™„ë£Œ í›„ ë¦¬ì›Œë“œ ìˆ˜ë ¹ ì‹œë„
5. **ë¡œê·¸ í™•ì¸**: ê° ë‹¨ê³„ë³„ API í˜¸ì¶œê³¼ ì‘ë‹µ í™•ì¸

### 3ë‹¨ê³„: í† í° ìœ ì§€ ê²€ì¦
1. **ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸**: F12 â†’ Application â†’ Local Storage
2. **í˜ì´ì§€ ì´ë™**: ë‹¤ë¥¸ ë©”ë‰´ë“¤ í´ë¦­
3. **ë’¤ë¡œê°€ê¸°**: ë¸Œë¼ìš°ì € ë’¤ë¡œê°€ê¸° ë²„íŠ¼ í´ë¦­
4. **ìƒˆë¡œê³ ì¹¨**: F5 ìƒˆë¡œê³ ì¹¨
5. **í† í° ìƒíƒœ í™•ì¸**: ê° ë‹¨ê³„ì—ì„œ ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€ í™•ì¸

## ğŸš¨ ë¬¸ì œ ë°œìƒì‹œ í™•ì¸ì‚¬í•­

### ìŠ¬ë¡¯ ê²Œì„ ë¬¸ì œ
- **ì¦ìƒ**: ì­íŒŸì´ ë‚¬ëŠ”ë° ë³´ìƒì´ ì—†ìŒ
- **í™•ì¸**: ë°±ì—”ë“œ ë¡œê·¸ì—ì„œ `is_jackpot: true`, `win_amount: 500` ë“± í™•ì¸
- **ì˜ì‹¬**: í”„ë¡ íŠ¸ì—”ë“œ UI ì—…ë°ì´íŠ¸ ë˜ëŠ” WebSocket ë©”ì‹œì§€ ì²˜ë¦¬

### ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ ë¬¸ì œ  
- **ì¦ìƒ**: ì°¸ì—¬ëŠ” ë˜ì§€ë§Œ ì§„í–‰ë„ í™•ì¸ ì•ˆë¨
- **í™•ì¸**: `GET /api/events/my-events` 422 ì—ëŸ¬ 
- **í•´ê²°**: ë°±ì—”ë“œ API ìˆ˜ì • í•„ìš”

### í† í° ê´€ë¦¬ ë¬¸ì œ
- **ì¦ìƒ**: ë’¤ë¡œê°€ê¸°ì‹œ ë‹¤ë¥¸ ìœ ì € ì •ë³´ í‘œì‹œ
- **í™•ì¸**: Local Storageì˜ í† í° ê°’ê³¼ ì‹¤ì œ API ì‘ë‹µ ë¹„êµ
- **ì˜ì‹¬**: í† í° ê²€ì¦ ë¡œì§ ë˜ëŠ” ì„¸ì…˜ ê´€ë¦¬

## ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… ìŠ¬ë¡¯ ê²Œì„
- [ ] ë°±ì—”ë“œì—ì„œ ì­íŒŸ ë¡œê·¸ í™•ì¸
- [ ] í”„ë¡ íŠ¸ì—”ë“œì—ì„œ WebSocket game_event ë©”ì‹œì§€ ìˆ˜ì‹ 
- [ ] UIì— ì­íŒŸ ì• ë‹ˆë©”ì´ì…˜/ë©”ì‹œì§€ í‘œì‹œ
- [ ] ì‹¤ì œ ì”ì•¡ ì¦ê°€ í™•ì¸

### âœ… ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ
- [ ] ì´ë²¤íŠ¸ ëª©ë¡ ì¡°íšŒ ì„±ê³µ
- [ ] ì´ë²¤íŠ¸ ì°¸ì—¬ ì„±ê³µ
- [ ] ì§„í–‰ë„ í™•ì¸ (ë˜ëŠ” 422 ì—ëŸ¬ í™•ì¸)
- [ ] ë¦¬ì›Œë“œ í´ë ˆì„ í…ŒìŠ¤íŠ¸

### âœ… í† í° ê´€ë¦¬
- [ ] ë¡œê·¸ì¸ í›„ í† í° ì €ì¥ í™•ì¸
- [ ] í˜ì´ì§€ ì´ë™ì‹œ í† í° ìœ ì§€
- [ ] ë’¤ë¡œê°€ê¸°ì‹œ ì„¸ì…˜ ìœ ì§€
- [ ] ìƒˆë¡œê³ ì¹¨ì‹œ ìë™ ë¡œê·¸ì¸

ì´ ê°€ì´ë“œë¥¼ ë”°ë¼ í…ŒìŠ¤íŠ¸í•˜ì‹œë©´ í˜„ì¬ ì‹œìŠ¤í…œì˜ ëª¨ë“  ë¬¸ì œì ì„ ì •í™•íˆ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!
